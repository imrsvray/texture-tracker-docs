<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
  <title>vplibs - header</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<body>

<a href="../../doc/index.html"><h3>BBC R&amp;D VP Libraries</h3></a>
<table>
  <tbody>
    <tr align="center" valign="top" bgcolor="#ccffff">
      <td width="100%">
	<table>
	  <tbody>
	    <tr>
	      <td> <a href="../../doc/DVSlib/index.html">DVSlib</a> | </td>
	      <td> <a href="../../doc/VPbase/index.html">VPbase</a> | </td>
              <td> <a href="../../doc/VPcoreio/index.html">VPcoreio</a> | </td>
	      <td> <a href="../../doc/VPdatadevice/index.html">VPdatadevice</a> | </td>
	      <td> <a href="../../doc/VPestimate/index.html">VPestimate</a> | </td>
	      <td> <a href="../../doc/VPgeom/index.html">VPgeom</a> | </td>
	      <td> <a href="../../doc/VPgl/index.html">VPgl</a> | </td>
	      <td> <a href="../../doc/VPip/index.html">VPip</a> | </td>
	      <td> <a href="../../doc/VPimageproc/index.html">VPimageproc</a> | </td>
	      <td> <a href="../../doc/VPtexturing/index.html">VPtexturing</a> | </td>
	      <td> <a href="../../doc/VPutil/index.html">VPutil</a> | </td>
              <td> <a href="../../doc/VPcore/index.html">VPcore (future VPbase)</a> | </td>
	      <td> <a href="../../doc/VPvis/index.html">VPvis (obsolete)</a> | </td>
	      <td> <a href="../../doc/VPio/index.html">VPio (obsolete)</a> </td>
	    </tr>
	  </tbody>
	</table>
      </td>
    </tr>
    <tr align="left" valign="top" bgcolor="#FFFFFF#ccffff">
    <td width="100%">


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_515d8571d61821fa9eacd6b7544512e3.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">PatchCorrespondenceGen.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="PatchCorrespondenceGen_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * File: PatchCorrespondenceGen.h</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (c) 2007 The British Broadcasting Corporation.</span>
<a name="l00005"></a>00005 <span class="comment"> * &lt;b&gt;ALL RIGHTS RESERVED&lt;/b&gt;.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Copyright in the whole and every part of these source files belongs</span>
<a name="l00008"></a>00008 <span class="comment"> * to The British Broadcasting Corporation (BBC) and they</span>
<a name="l00009"></a>00009 <span class="comment"> * may not be used, sold, licenced, transferred, copied or reproduced</span>
<a name="l00010"></a>00010 <span class="comment"> * in whole or in part in any manner or form or in or on any media to</span>
<a name="l00011"></a>00011 <span class="comment"> * any person without the prior written consent of the BBC.</span>
<a name="l00012"></a>00012 <span class="comment"> */</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#ifndef PatchCorrespondenceGen_h</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#define PatchCorrespondenceGen_h</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="TexturePatch_8h.html">TexturePatch.h</a>&quot;</span>  <span class="comment">// class holding (multiple) representations of a (multi-resolution) texture patch at a given 3D location</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="PoseEstPanTiltHead_8h.html">PoseEstPanTiltHead.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="KLTTracker_8h.html">KLTTracker.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="FittedLine_8h.html">FittedLine.h</a>&quot;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="RandomForest_8h.html">RandomForest.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="Tree_8h.html">Tree.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="ForestObjects_8h.html">ForestObjects.h</a>&quot;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">namespace </span>bbcvp {
<a name="l00028"></a>00028 
<a name="l00036"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html">00036</a>   <span class="keyword">class </span><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html" title="Class to generate point correspondencies between an image and a set of stored (multi-resolution) patc...">PatchCorrespondenceGen</a> {
<a name="l00037"></a>00037 
<a name="l00038"></a>00038   <span class="keyword">public</span>:
<a name="l00039"></a>00039 
<a name="l00089"></a>00089     <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afccaa2cd4d3ddbbb06313743dc6ce710" title="Constructor.">PatchCorrespondenceGen</a>(<a class="code" href="classbbcvp_1_1PoseEstPanTiltHead.html" title="Estimates pan/tilt/roll of a camera in a series of images, plus its fixed offset from a world object...">PoseEstPanTiltHead</a> *PoseEst,
<a name="l00090"></a>00090             <span class="keywordtype">int</span> patchLenX, <span class="keywordtype">int</span> patchLenY,
<a name="l00091"></a>00091             <span class="keywordtype">int</span> len_x, <span class="keywordtype">int</span> len_y,
<a name="l00092"></a>00092             <span class="keywordtype">int</span> spacingX, <span class="keywordtype">int</span> spacingY, <span class="keywordtype">int</span> nResolutions,
<a name="l00093"></a>00093             <span class="keywordtype">int</span> maxPatches, <span class="keywordtype">int</span> maxPatchesPerRegion,
<a name="l00094"></a>00094             <span class="keywordtype">int</span> maxFixedWorldlines=0,
<a name="l00095"></a>00095             <span class="keywordtype">int</span> forestSize=0, <span class="keywordtype">int</span> maxdepth=8, <span class="keywordtype">int</span> threshold=10, <span class="keywordtype">int</span> degree=3, <span class="keywordtype">int</span> motionMaskResolution=-1);
<a name="l00096"></a>00096 
<a name="l00100"></a>00100     <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa6d11b59e34dbc3fa12eb8c81b69f8b0" title="Destructor.">~PatchCorrespondenceGen</a>();
<a name="l00101"></a>00101 
<a name="l00119"></a>00119     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab42f959a7deb42340765ead28aca1d28" title="Creates a monochrome multi-resolution &quot;image pyramid&quot; for use in subsequent matching and patch-genera...">loadImage</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *r, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *g, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *b,
<a name="l00120"></a>00120          <span class="keywordtype">int</span> inc_x, <span class="keywordtype">int</span> inc_y,
<a name="l00121"></a>00121          <span class="keywordtype">int</span> weightR=76, <span class="keywordtype">int</span> weightG= 150, <span class="keywordtype">int</span> weightB=29);
<a name="l00122"></a>00122 
<a name="l00133"></a>00133     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af470eeb144ada508ad5b335dbb79057c" title="Get a pointer to the image arrays for the current or previous image.">getImagePointers</a>(<span class="keywordtype">int</span> image=0);
<a name="l00134"></a>00134 
<a name="l00141"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#abcd696e3092e3c880b6c05aa62a01ed8">00141</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#abcd696e3092e3c880b6c05aa62a01ed8" title="Get pointer to array of x increments for most-recently-loaded image (assumed to be the same for revio...">getIncX</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab455e7a72e73320f304ab92f0f7c5746">m_incX</a>; }
<a name="l00142"></a>00142 
<a name="l00149"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2d412153ae2b6af9b2c951c982fe7deb">00149</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2d412153ae2b6af9b2c951c982fe7deb" title="Get pointer to array of y increments for most-recently-loaded image (assumed to be the same for revio...">getIncY</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3283501fc0a34f80c78c31706977416a">m_incY</a>; }
<a name="l00150"></a>00150 
<a name="l00158"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7e3b4d41dec3491af16d7b1846af1246">00158</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7e3b4d41dec3491af16d7b1846af1246" title="Set subsampling factors used when searching for good features to track in createNewPatches().">setFeatureFindSubsample</a>(<span class="keywordtype">int</span> featureFindSsX, <span class="keywordtype">int</span> featureFindSsY) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#adcf94ef4d3fdfd1bde9b4b6405f70820">m_featureFindSsX</a>=featureFindSsX; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#acc63533c22a5ff78f63862e5d77e71e0">m_featureFindSsY</a>=featureFindSsY; }
<a name="l00159"></a>00159 
<a name="l00166"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a52189ef88ee36fe9f8c6008b44e9d278">00166</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a52189ef88ee36fe9f8c6008b44e9d278" title="Set minimum value of feature detector output that constitutes a feature worth tracking.">setMinFeatureVal</a>(<span class="keywordtype">int</span> minFeatureVal) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7f7a3af3957ea8d72a7fe14450b329f5">m_minFeatureVal</a>=minFeatureVal; }
<a name="l00167"></a>00167 
<a name="l00174"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3e8ec6f59a13ce5c80385a50e4e1c51b">00174</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3e8ec6f59a13ce5c80385a50e4e1c51b" title="Set minimum value of feature detector big eigenvalue output that constitutes a feature worth tracking...">setMinFeatureValBigEigen</a>(<span class="keywordtype">int</span> minFeatureValBigEigen) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a665fab3d35d2d94579599691bee635cf">m_minFeatureValBigEigen</a>=minFeatureValBigEigen; }
<a name="l00175"></a>00175 
<a name="l00184"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a79cf24d171bbd7a93ba1551cce9cf999">00184</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a79cf24d171bbd7a93ba1551cce9cf999" title="Set the size of the region used for evaluating the &#39;strength&#39; of a feature when createNewPatches() lo...">setFeatureDetectionWindowHalfWid</a>(<span class="keywordtype">int</span> halfWidX, <span class="keywordtype">int</span> halfWidY) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a91a2ccd47a39872deb3b78c92c5fbafc">m_halfWidX</a>=halfWidX; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a741055669a5cf2513ac42ca9ba0d4a42">m_halfWidY</a>=halfWidY; }
<a name="l00185"></a>00185 
<a name="l00198"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1f0f8a4e45d1627bb72e3e5ec07d4253">00198</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1f0f8a4e45d1627bb72e3e5ec07d4253" title="Set border around edge of image used when looking for features in createNewPatches().">setFeatureDetectionImageBorder</a>(<span class="keywordtype">int</span> borderX, <span class="keywordtype">int</span> borderY) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a86ca1c32e125a53da251789208b80e49">m_featureCreateBorderX</a> = borderX;  <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a15e5f82dae09d082a0fe92c225d5de62">m_featureCreateBorderY</a> = borderY; }
<a name="l00199"></a>00199 
<a name="l00208"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af4fdb327b664a7ef413fa99c351bc4a9">00208</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af4fdb327b664a7ef413fa99c351bc4a9" title="Set rectangular region of image to ignore when searching for features in createNewPatches().">setFeatureDetectionIgnoreRegion</a>(<span class="keywordtype">int</span> minIgnoreX, <span class="keywordtype">int</span> maxIgnoreX, <span class="keywordtype">int</span> minIgnoreY, <span class="keywordtype">int</span> maxIgnoreY)
<a name="l00209"></a>00209       { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a34a1e42ce3bbfd0b234259c642d028d9">m_minIgnoreX</a>=minIgnoreX; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab1dff52735db2c2b534310c219ebce3a">m_maxIgnoreX</a>=maxIgnoreX; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeabaf45faf54a231aca281e9b7868a1f">m_minIgnoreY</a>=minIgnoreY; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a648a38ef546a6ddf1444da2d0146ad2b">m_maxIgnoreY</a>=maxIgnoreY; }
<a name="l00210"></a>00210 
<a name="l00217"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af86c24ff327bedfc45d339dad2318ab5">00217</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af86c24ff327bedfc45d339dad2318ab5" title="Set the min distance between features to find in createNewPatches().">setMinDist</a>(<span class="keywordtype">int</span> minDist) {  <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4307b5b4485da7342911a2cac1527a88">m_minDist</a> = minDist; }
<a name="l00218"></a>00218 
<a name="l00227"></a>00227     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac0ec55dfb645836eb427263b523ceb75" title="Set the distance from projected line features from which point features should be ignored...">setIgnoreFeatureLines</a>(<span class="keywordtype">double</span> ignoreDistFromLine=0.0);
<a name="l00228"></a>00228 
<a name="l00246"></a>00246     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a124540366e333ef7341e85ba21aa5789" title="Set the (optional) pointers to arrays specifying triangle strips that specify &#39;ignore&#39; regions in the...">setIgnoreTriStrips</a>(<span class="keywordtype">int</span> nTriStrips, <span class="keywordtype">int</span> *nTriPoints=(<span class="keywordtype">int</span>*)0, <span class="keywordtype">double</span> **triPoints=(<span class="keywordtype">double</span>**)0, <span class="keywordtype">bool</span> ignoreWithinTriangles=<span class="keyword">true</span>);
<a name="l00247"></a>00247 
<a name="l00256"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6c2aad11a2fdd5a5857f8715ecd574fb">00256</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6c2aad11a2fdd5a5857f8715ecd574fb" title="Whether or not to use the &#39;ignore&#39; regions specified by setIgnoreTriStrips Useful if you want to defi...">setUseIgnoreTriStrips</a>( <span class="keywordtype">bool</span> useIgnoreTriStrips=<span class="keyword">true</span>) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af124173ab386fb692cc3c3613ef95e2f">m_useIgnoreTriStrips</a> = useIgnoreTriStrips; }
<a name="l00257"></a>00257 
<a name="l00264"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1dc5618eef0208d4e6cb829e2e16ca6a">00264</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1dc5618eef0208d4e6cb829e2e16ca6a" title="Specify whether the motion mask computed using detectNonCameraMotion() should be used as an ignore re...">setUseMotionMaskAsIgnoreRegion</a>(<span class="keywordtype">bool</span> useMotionMaskAsIgnoreRegion=<span class="keyword">true</span>) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac244b516d80f2081c665c1dcfad49337">m_useMotionMaskAsIgnoreRegion</a> = useMotionMaskAsIgnoreRegion; }
<a name="l00265"></a>00265 
<a name="l00281"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae6990e1c2656fd46f579413c617538f9">00281</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae6990e1c2656fd46f579413c617538f9" title="Specify whether motion mask is computed across a frame period or a field period.">setMotionMaskComputationAcrossFrame</a>( <span class="keywordtype">bool</span> measureAcrossFramePeriod=<span class="keyword">true</span>) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb227bca7e40b50b1d5c14502e6003ca">m_measureMotionMaskAcrossFramePeriod</a>=measureAcrossFramePeriod; }
<a name="l00282"></a>00282 
<a name="l00296"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac3f8eb308f23af3ab23b394b4c0a6bc7">00296</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac3f8eb308f23af3ab23b394b4c0a6bc7" title="Specify the maximum fraction of visible texture patches to ignore using the motion mask...">setMaxFractionToDiscardUsingMotionMask</a>(<span class="keywordtype">double</span> fraction) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa3a0d456f5e8df7d9a5aaea4d2a540c9">m_maxFractionToDiscardUsingMotionMask</a> = fraction; }
<a name="l00297"></a>00297 
<a name="l00304"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8206dd4bcaaf5c56adb0d45b6f58f32c">00304</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8206dd4bcaaf5c56adb0d45b6f58f32c" title="Set the level of the image pyramid used for feature finding by findNewFeatures().">setFeatureFindLevel</a>(<span class="keywordtype">int</span> level=0) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1212db07e72636f31840ce66a1ab7013">m_featureFindLevel</a> = level; }
<a name="l00305"></a>00305 
<a name="l00330"></a>00330     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afad7356870d6e2e4c4c06dc57cf7a213" title="Create a new texture patch from the current image at the given 2D and 3D coordintes.">createNewPatch</a>(<span class="keywordtype">int</span> imageX, <span class="keywordtype">int</span> imageY, <span class="keywordtype">double</span> worldX, <span class="keywordtype">double</span> worldY, <span class="keywordtype">double</span> worldZ, <span class="keywordtype">int</span> fixedAxis=0,
<a name="l00331"></a>00331          <span class="keywordtype">int</span> expiryTime=-1, <span class="keywordtype">double</span> patchVelX=0.0, <span class="keywordtype">double</span> patchVelY=0.0);
<a name="l00332"></a>00332 
<a name="l00342"></a>00342     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#abb99f7cd730b0dc1e6a8b3b46b1508e0" title="Add a new texture representation to the given patch (e.g.">addNewTextureToPatch</a>(<span class="keywordtype">int</span> patchID, <span class="keywordtype">double</span> imageX, <span class="keywordtype">double</span> imageY);
<a name="l00343"></a>00343 
<a name="l00373"></a>00373     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a87cebfc6ebd705c67df92347e07a6991" title="Create new patch(es) at &quot;good&quot; int incX, int incY, locations.">createNewPatches</a>(<span class="keywordtype">int</span> minPatchesPerRegion=1, <span class="keywordtype">int</span> nRegionsToSearch=-1, <span class="keywordtype">int</span> expiryTime=-1);
<a name="l00374"></a>00374 
<a name="l00393"></a>00393     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa17756967d07a8794e4db0ac7d5e3d06" title="Project a ray out of the camera until it intersects the geometry used to define the backgroud...">projectPointIntoWorld</a>(<span class="keywordtype">double</span> lx, <span class="keywordtype">double</span> ly, <span class="keywordtype">double</span> lz,
<a name="l00394"></a>00394                               <span class="keywordtype">double</span> cx, <span class="keywordtype">double</span> cy, <span class="keywordtype">double</span> cz,
<a name="l00395"></a>00395                               <span class="keywordtype">double</span> *wx, <span class="keywordtype">double</span> *wy, <span class="keywordtype">double</span> *wz);
<a name="l00396"></a>00396     
<a name="l00400"></a>00400     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aad59524f98246f25b292ec4fb7a46c6a" title="Delete all stored patches.">deleteAllPatches</a>();
<a name="l00401"></a>00401 
<a name="l00411"></a>00411     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aefb736281fbccb9754d08cf6cca2e096" title="Delete all stored patches whose expiry time is less than or equal to the given value.">deleteOldPatches</a>(<span class="keywordtype">int</span> expiryTime);
<a name="l00412"></a>00412 
<a name="l00427"></a>00427     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8eb618afbd9dc227cc3e4c9c31603abb" title="Delete all patches that are not visible in any images currently stored in the PoseEstPanTiltHead clas...">deleteUnseenPatches</a>();
<a name="l00428"></a>00428 
<a name="l00436"></a>00436     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad26c627f81a196e39f19a23b0c2ad4a3" title="Update the reliability measure of all patches based on the outcome of the latest RANSAC call...">updatePatchReliabilityMeasure</a>();
<a name="l00437"></a>00437 
<a name="l00455"></a>00455     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aef63ea8ceba80635672cf6303ac9f17c" title="Update the focal length value associatyed with each stored patch, folloing a call to PoseEstPanTiltHe...">updatePatchFocalLength</a>();
<a name="l00456"></a>00456 
<a name="l00461"></a>00461     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a29ec04e6c7067efda7a7b2c3971f8305" title="Reset the reliability measure of all patches back to the initial state, i.e.">resetPatchReliabilityMeasure</a>();
<a name="l00462"></a>00462 
<a name="l00473"></a>00473     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a59ea52488273b0eec91773d6328ebb0a" title="Delete patches that have only been inliers for less than a given proportion of the times they have be...">deleteUnreliablePatches</a>(<span class="keywordtype">double</span> minFractionVisible=0.5, <span class="keywordtype">int</span> minTimesVisibleForSensibleMeasurement=4);
<a name="l00474"></a>00474 
<a name="l00482"></a>00482     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5e23b941c73cda26b1f3dc656b742248" title="Delete the patch with the given index number.">deletePatch</a>(<span class="keywordtype">int</span> patchIndex);
<a name="l00483"></a>00483 
<a name="l00495"></a>00495     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2e5baf573f8e003f7c6c4ebe42828121" title="Draw the position of the currently-stored patches on the given image, by projecting them into the ima...">drawProjectedPatches</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image, <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY);
<a name="l00496"></a>00496 
<a name="l00510"></a>00510     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a65b361301f59d3393c7f0201a348327a" title="Draw the position of the currently-stored permanent patches (with expiryTime &lt;0) on the given image...">drawPermanentPatches</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image, <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY);
<a name="l00511"></a>00511 
<a name="l00512"></a>00512     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#abdb63fe6bf083b9a0f09ad8d69f10969">drawPermanentPatchesClassification</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *imageAlt, <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY);
<a name="l00513"></a>00513 
<a name="l00569"></a>00569     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aef871620e50d1513c8f1155bcaf1de27" title="Generate correspondences between stored patches and the current image (as set with SetImage())...">findCorrespondences</a>(<span class="keywordtype">double</span> matchErrToHalveWeight,
<a name="l00570"></a>00570              <span class="keywordtype">bool</span> usePrevIm = <span class="keyword">true</span>,
<a name="l00571"></a>00571              <span class="keywordtype">bool</span> useStoredPatches = <span class="keyword">true</span>,
<a name="l00572"></a>00572              <span class="keywordtype">bool</span> stopIfWeightDrops = <span class="keyword">false</span>,
<a name="l00573"></a>00573              <span class="keywordtype">bool</span> normaliseDC = <span class="keyword">true</span>,
<a name="l00574"></a>00574              <span class="keywordtype">int</span> highestLevelStoredPatches=-1,
<a name="l00575"></a>00575              <span class="keywordtype">int</span> lowestLevelStoredPatches=0,
<a name="l00576"></a>00576              <span class="keywordtype">int</span> lowestLevelPrevPatchesincX=0,
<a name="l00577"></a>00577                             <span class="keywordtype">double</span> maxDiscardFraction=0.0,
<a name="l00578"></a>00578                             <span class="keywordtype">double</span> discardRadius=0.0,
<a name="l00579"></a>00579              <span class="keywordtype">double</span> minScaleChangeToComputeScaledPatches=99999.0,
<a name="l00580"></a>00580                             <span class="keywordtype">double</span> maxWeight=0.0,
<a name="l00581"></a>00581                             <span class="keywordtype">bool</span>   useWeights=<span class="keyword">false</span>,
<a name="l00582"></a>00582              <span class="keywordtype">double</span> weightScale = 1.0);
<a name="l00583"></a>00583 
<a name="l00612"></a>00612     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab09cf7232b9bb7fa538c9ec767bd6e19" title="Generate correspondences between stored patches and the current image (as set with SetImage())...">calcCorrespondenciesGlobally</a>(
<a name="l00613"></a>00613    <span class="keywordtype">bool</span> useStoredPatches,  <span class="comment">// true=from stored patches, false=from previous image</span>
<a name="l00614"></a>00614    <span class="keywordtype">bool</span> normaliseDC,  <span class="comment">// whether to normalise DC</span>
<a name="l00615"></a>00615    <span class="keywordtype">int</span> highestLevel,  <span class="comment">// most subsampled level to use  (-1=use hightest available)</span>
<a name="l00616"></a>00616    <span class="keywordtype">int</span> lowestLevel,   <span class="comment">// least subsampled level to use (0=full-res)</span>
<a name="l00617"></a>00617    <span class="keywordtype">double</span> stopIterShift=0.1, <span class="keywordtype">double</span> stopIterScaleChange=0.001, <span class="keywordtype">int</span> stopIterCount=10);  <span class="comment">// controls for iteration stopping</span>
<a name="l00618"></a>00618 
<a name="l00647"></a>00647     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afd3bc4ec1238f2abaa3d4af91f45bb73" title="Perform an exhaustive search over the given range of pan, tilt, roll, and vertical field-of-view...">exhaustiveSearch</a>(<span class="keywordtype">double</span> pMin, <span class="keywordtype">double</span> pMax, <span class="keywordtype">double</span> pStepPixels,
<a name="l00648"></a>00648              <span class="keywordtype">double</span> tMin, <span class="keywordtype">double</span> tMax, <span class="keywordtype">double</span> tStepPixels,
<a name="l00649"></a>00649              <span class="keywordtype">double</span> rMin, <span class="keywordtype">double</span> rMax, <span class="keywordtype">int</span> rNStep,
<a name="l00650"></a>00650              <span class="keywordtype">double</span> fMin, <span class="keywordtype">double</span> fMax, <span class="keywordtype">double</span> fStepPixels,
<a name="l00651"></a>00651              <span class="keywordtype">double</span> maxInlierDist=6.0, <span class="keywordtype">double</span> minInlierFraction=0.7, <span class="keywordtype">int</span> maxTries=10,
<a name="l00652"></a>00652              <span class="keywordtype">int</span> nInitialPoints=5, <span class="keywordtype">int</span> lenYFull=576);
<a name="l00653"></a>00653 
<a name="l00670"></a>00670     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0db8a3d48edc682202109ebe24930e10" title="Use classifier method to match features then use RANSAC to compute a solution.">classifierInitialisation</a>(<span class="keywordtype">double</span> maxInlierDist=6.0, <span class="keywordtype">double</span> minInlierFraction=0.7, <span class="keywordtype">int</span> maxTries=10,
<a name="l00671"></a>00671           <span class="keywordtype">int</span> nInitialPoints=5, <span class="keywordtype">int</span> maxNewFeaturesToFind = 250, <span class="keywordtype">int</span> cycle = -1, <span class="keywordtype">int</span> subsample = 0, <span class="keywordtype">double</span> initialiseScale = 1.0);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673 
<a name="l00683"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4f1f185d9d251ff8b366e0f3de664e28">00683</a>     <a class="code" href="classbbcvp_1_1TexturePatch.html" title="Class to hold a multi-resolution texture patch, complete with the 3D world coordinates of its centre...">TexturePatch</a> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4f1f185d9d251ff8b366e0f3de664e28" title="Return a pointer to the array of texture patches.">getTexturePatches</a>(<span class="keywordtype">int</span> *nPatches) { *nPatches =  <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a888cab8329182cf6eb0abd8cf823af6f">m_nPatches</a>; <span class="keywordflow">return</span> (<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1a4d607aac49e5517a3741e190a76886">m_texturePatches</a>); }
<a name="l00684"></a>00684 
<a name="l00689"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a230ab9c7e1a0da912e20e1878384c65f">00689</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a230ab9c7e1a0da912e20e1878384c65f" title="Return the number of texture patches currently stored.">getNPatches</a>() { <span class="keywordflow">return</span> (<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a888cab8329182cf6eb0abd8cf823af6f">m_nPatches</a>); }
<a name="l00690"></a>00690 
<a name="l00700"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5d98ad99062118a05c39f66d0268c88e">00700</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5d98ad99062118a05c39f66d0268c88e" title="Set the minimum change in position below which iterations in the KLT are stopped in the singleLevelTr...">setKLTAccuracy</a>(<span class="keywordtype">double</span> KLTAccuracy) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a017c50f1729ecc6bb96e2d8a7821fbfd">m_KLTTracker</a>-&gt;<a class="code" href="classbbcvp_1_1KLTTracker.html#ac98c06ac6945f4c2828005c7be83f926" title="Set the minimum change in position below which iterations in the KLT are stopped in the singleLevelTr...">setKLTAccuracy</a>(KLTAccuracy); }
<a name="l00701"></a>00701 
<a name="l00722"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8059461ebdc5639fe7bb12ae70a10892">00722</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8059461ebdc5639fe7bb12ae70a10892" title="For the createNewPatches() method, set the fraction of the difference between big &amp; small eigenvalues...">setCostOfEigenvalueDiff</a>(<span class="keywordtype">double</span> costOfEigenvalueDiff) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a017c50f1729ecc6bb96e2d8a7821fbfd">m_KLTTracker</a>-&gt;<a class="code" href="classbbcvp_1_1KLTTracker.html#ab8cca5d3fe8bc100315ad6afc03fb935" title="For the findGoodFeatures() method, set the fraction of the difference between big &amp; small eigenvalues...">setCostOfEigenvalueDiff</a>(costOfEigenvalueDiff); }
<a name="l00723"></a>00723 
<a name="l00729"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab8eed51d9cf7314468dda5fab65fffbb">00729</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab8eed51d9cf7314468dda5fab65fffbb" title="Set the maximum number of iterations in a single resolution level that the KLT tracker should carry o...">setmaxIter</a>(<span class="keywordtype">int</span> maxIter) {<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a017c50f1729ecc6bb96e2d8a7821fbfd">m_KLTTracker</a>-&gt;<a class="code" href="classbbcvp_1_1KLTTracker.html#af55fdcc59ca03cfcb1a5c4605c4da8d3" title="Set the maximum number of iterations that singleLevelTrack() should carry out.">setmaxIter</a>(maxIter); }
<a name="l00730"></a>00730 
<a name="l00741"></a>00741     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae81df0590b803198d9efac4647e739cc" title="Write texture patch data to the given file.">writePatches</a>(<span class="keywordtype">char</span> *fileName);
<a name="l00742"></a>00742 
<a name="l00755"></a>00755     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7d3a2781bcbb0048baec29f7d3bf3d8c" title="Read texture patch data from the given file.">readPatches</a>(<span class="keywordtype">char</span> *fileName, <span class="keywordtype">bool</span> updateCamPos=<span class="keyword">true</span>);
<a name="l00756"></a>00756 
<a name="l00768"></a>00768     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5e3910ac6b77428937e180be35d89657" title="Draw the position of all the patches that are found to be possible features.">drawSuggestedFeatures</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image, <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY);
<a name="l00769"></a>00769 
<a name="l00774"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a42e0ee3908c6a8a8ce48f00241db2a4b">00774</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a42e0ee3908c6a8a8ce48f00241db2a4b" title="Clear the arrays containing the suggested features.">wipeSuggestedFeatures</a>()
<a name="l00775"></a>00775     {
<a name="l00776"></a>00776       <span class="keywordflow">if</span> (<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae7e1340476bba5d30814e39811c0a55f">printMatchX</a>.size() &gt; 0)
<a name="l00777"></a>00777       {
<a name="l00778"></a>00778          <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae7e1340476bba5d30814e39811c0a55f">printMatchX</a>.resize(0);
<a name="l00779"></a>00779          <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa7434168344fb44588c481e3d9f7d778">printMatchY</a>.resize(0);
<a name="l00780"></a>00780          <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a531a3a070101696c1b87af8f800a2cf3">printMatchScore</a>.resize(0);
<a name="l00781"></a>00781        }
<a name="l00782"></a>00782     };
<a name="l00783"></a>00783 
<a name="l00797"></a>00797     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a72742e6cdec180bdbdf523c6c433d6fe" title="Draw line across the top of the screen that marks the current level of correspondence between tracker...">drawCheckCorrespondenceLine</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image, <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY);
<a name="l00798"></a>00798 
<a name="l00805"></a>00805     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a10ef8f86bf3afec948262dd181b91b3b" title="Add to the classifier all features from the current scene.">addPermanentPatchesClassifier</a>();
<a name="l00806"></a>00806 
<a name="l00815"></a>00815     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aec35b3ca2cb33d0147275532ee2e4f2c" title="Generate correspondences between stored patches and the current image by classifying those patches in...">findClassifierCorrespondences</a>(<span class="keywordtype">int</span> mode = 0, <span class="keywordtype">int</span> maxNewFeaturesToFind = 250, <span class="keywordtype">int</span> cycle = -1, <span class="keywordtype">int</span> subsample = 0, <span class="keywordtype">double</span> initialiseScale = 1.0);
<a name="l00816"></a>00816 
<a name="l00824"></a>00824     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ada193c43623a9c731dc69b6e90048f52" title="Compare the current set of perminant patches in the scene with those in the classifier to see if they...">checkCorrespondences</a>(<span class="keywordtype">bool</span> allowFreeMove, <span class="keywordtype">double</span> initialiseScale = 1.0, <span class="keywordtype">bool</span> ignoreOutliers = <span class="keyword">false</span>);
<a name="l00825"></a>00825 
<a name="l00842"></a>00842     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aebb70a51c504e07221d5a50ac1c3acce" title="Perform an exhaustive search using the classifier method.">testClassifierInitialisation</a>(<span class="keywordtype">double</span> maxInlierDist=6.0, <span class="keywordtype">double</span> minInlierFraction=0.7, <span class="keywordtype">int</span> maxTries=10,
<a name="l00843"></a>00843           <span class="keywordtype">int</span> nInitialPoints=5, <span class="keywordtype">int</span> maxNewFeaturesToFind = 250, <span class="keywordtype">int</span> cycle = -1, <span class="keywordtype">int</span> subsample = 0, <span class="keywordtype">double</span> initialiseScale = 1.0);
<a name="l00844"></a>00844 
<a name="l00856"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a49903755d1b85e5b2001fa10065fee44">00856</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a49903755d1b85e5b2001fa10065fee44" title="Set velocity range around a stored patch&#39;s velocity within which the patch will be taken into account...">setVelocityRangeForNoRelearning</a>(<span class="keywordtype">double</span> velRangeX, <span class="keywordtype">double</span> velRangeY) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a101db2e88012e141851609b5acbd6d1b">m_VelocityRangeForNoRelearningX</a> = velRangeX;
<a name="l00857"></a>00857     <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2ce89198e8239c3b99be901039de5f72">m_VelocityRangeForNoRelearningY</a> = velRangeY; }
<a name="l00858"></a>00858  
<a name="l00871"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6973b505b279de1937b5040143272e23">00871</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6973b505b279de1937b5040143272e23" title="Set the ratio between the stored patch&#39;s focal length and the current focal length below which the pa...">setFocalLengthRatioForNoRelearning</a>(<span class="keywordtype">double</span> focalLengthRatio ) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0b51bdce0bc89e80da67fc442496f1c5">m_FocLenRatioForNoRelearning</a> = focalLengthRatio; }
<a name="l00872"></a>00872 
<a name="l00882"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2ffbd18e96e77fd12c948adec2410732">00882</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2ffbd18e96e77fd12c948adec2410732" title="Set the max number of patches we should search per region This allows the number of patches being sea...">setMaxPatchesToSearchPerRegion</a>(<span class="keywordtype">int</span> maxPatchesToSearchPerRegion) {<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aca84780d30cd7afebed4514910e91ac5">m_maxPatchesToSearchPerRegion</a> = maxPatchesToSearchPerRegion; }
<a name="l00883"></a>00883 
<a name="l00889"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0b01ee8ac2706afd117039998449e400">00889</a>      <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0b01ee8ac2706afd117039998449e400" title="Set the parameters used to control how patches are dropped when more than maxPatchesToSearchPerRegion...">setPatchPrefWeights</a>(<span class="keywordtype">double</span> patchPrefVelWeight, <span class="keywordtype">double</span> patchPrefFoclenWeight) { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5c8d223520c154380a62fad22c65abda">m_patchPrefVelWeight</a>=patchPrefVelWeight; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a27d0eb706c927b1861cfffba2e7239c7">m_patchPrefFoclenWeight</a>=patchPrefFoclenWeight; }
<a name="l00890"></a>00890 
<a name="l00897"></a>00897      <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae192de2851bec008e7f5ec8bc459d0e1" title="Look through all stored patches and ignore those that should be ignored according to the cuurently-de...">discardStoredPatchesUsingTriStripRegion</a>();
<a name="l00898"></a>00898 
<a name="l00899"></a>00899     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a925ee9b5639462d4113c13c32e1d20e4">writeClassifier</a>(<span class="keywordtype">char</span> *fileName);
<a name="l00900"></a>00900     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7dcf32cc222a31136381b7d064044442">readClassifier</a>(<span class="keywordtype">char</span> *fileName);
<a name="l00901"></a>00901     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a657a47112ca4328335d74b77e9787656">optimiseClassifier</a>();
<a name="l00902"></a>00902 
<a name="l00923"></a>00923         <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a448f79fda02d54a7e6164a1f4e2e5716" title="Gets coarse projection of current image into previous image using lineOfSight method (use PoseEstimat...">detectNonCameraMotion</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> threshold, <span class="keywordtype">int</span> nProjX=5, <span class="keywordtype">int</span> nProjY=5);
<a name="l00924"></a>00924 
<a name="l00932"></a>00932         <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a9f79dd805c526b068d4ef9231ad421e1" title="Indicates whether motion at this image point can be trusted, based on non-camera motion between the t...">getNonCameraMotion</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y);
<a name="l00933"></a>00933 
<a name="l00943"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afd6283f5523f43167627748fd01404e3">00943</a>         <span class="keywordtype">bool</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afd6283f5523f43167627748fd01404e3" title="Return a pointer to the camera motion mask, to allow an external method to quickly query it rather th...">getNonCameraMotionMask</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7813937b73ff2a7dbbbd0f814bd713d8">m_motionMask</a>; }
<a name="l00944"></a>00944 
<a name="l00959"></a>00959     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0e5080c9dcfa56b955fc74b17c2db071" title="Draw the non-camera motion mask on the given image using the stored mask array.">drawNonCameraMotionMask</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image,
<a name="l00960"></a>00960             <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY, <span class="keywordtype">bool</span> dilate=<span class="keyword">false</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dilateKernelHalfWidth=1);
<a name="l00961"></a>00961 
<a name="l00966"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab7ae893f808bb486e98815e71ae04473">00966</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab7ae893f808bb486e98815e71ae04473" title="Specify that a motion mask is not valid, e.g.">invalidateCamMotionMask</a>() { <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2db2db67c63358672cf450d23d151db4">m_gotValidCamMotionMask</a> = <span class="keyword">false</span>; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac887d41cc6a2beb863e7b3defa33a7cd">m_firstGoodImage</a>=<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad5d2bdd3a8c077a2afd9ef623d7e423e">m_nImagesLoaded</a>;}
<a name="l00967"></a>00967 
<a name="l00975"></a>00975     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3c88f0a86457a6128af926c2763cddb6" title="Compare the current frame to the previous frame, by subtracting the lowest resolution images...">videoStill</a>();
<a name="l00976"></a>00976 
<a name="l00977"></a>00977   <span class="keyword">private</span>:
<a name="l00978"></a>00978     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7675487c8e54d0ee1471f676de6aeb4c">pointInTriangle</a>( <span class="keywordtype">double</span> Px, <span class="keywordtype">double</span> Py, <span class="keywordtype">double</span> *A, <span class="keywordtype">double</span> *B, <span class="keywordtype">double</span> *C );
<a name="l00979"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac7afa74089d485f28d5db0c364c22da6">00979</a>     <a class="code" href="classbbcvp_1_1PoseEstPanTiltHead.html" title="Estimates pan/tilt/roll of a camera in a series of images, plus its fixed offset from a world object...">PoseEstPanTiltHead</a> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac7afa74089d485f28d5db0c364c22da6">m_PoseEst</a>;       <span class="comment">// PoseEstPanTiltHead object to use</span>
<a name="l00980"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1a4d607aac49e5517a3741e190a76886">00980</a>     <a class="code" href="classbbcvp_1_1TexturePatch.html" title="Class to hold a multi-resolution texture patch, complete with the 3D world coordinates of its centre...">TexturePatch</a> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1a4d607aac49e5517a3741e190a76886">m_texturePatches</a>;     <span class="comment">// array of pointers to stored texture patches</span>
<a name="l00981"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a017c50f1729ecc6bb96e2d8a7821fbfd">00981</a>     <a class="code" href="classbbcvp_1_1KLTTracker.html" title="Class to implement 2D block shift estimation using the KLT.">KLTTracker</a> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a017c50f1729ecc6bb96e2d8a7821fbfd">m_KLTTracker</a>;
<a name="l00982"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a888cab8329182cf6eb0abd8cf823af6f">00982</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a888cab8329182cf6eb0abd8cf823af6f">m_nPatches</a>;                      <span class="comment">// number of patches stored so far</span>
<a name="l00983"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae783a0532b6096b366178b5d365ce050">00983</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a60349411a11715f09ff756c16d715932">m_patchLenX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae783a0532b6096b366178b5d365ce050">m_patchLenY</a>;        <span class="comment">// dimensions of patches (ie blocks)</span>
<a name="l00984"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae7087ac5d7af3638aeb0faa7fe56c392">00984</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a01b074267e64dc80ff88e0b11d4a0140">m_spacingX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae7087ac5d7af3638aeb0faa7fe56c392">m_spacingY</a>;          <span class="comment">// typical spacing between created features</span>
<a name="l00985"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1e4422b32c70f1a13af94d4757dd6b10">00985</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1e4422b32c70f1a13af94d4757dd6b10">m_nResolutions</a>;                  <span class="comment">// number of resolution levels for multi-resolution matiching</span>
<a name="l00986"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac0648bda33e4276f7055abd10fef7447">00986</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac0648bda33e4276f7055abd10fef7447">m_r</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3f40b16b7e0d951e4bfffee5b92f00b2">m_g</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2717244275623cb99253750e65d5ffad">m_b</a>;      <span class="comment">// top-left pixel in current image</span>
<a name="l00987"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad402c4cc265184dab8a28e62633f16c6">00987</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad402c4cc265184dab8a28e62633f16c6">m_maxPatches</a>;                    <span class="comment">// max number of patches to store</span>
<a name="l00988"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a21ca74edd77939253a4d2a02c2e298e1">00988</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a9167b9e1b76793ced3eb8154085b46cc">m_lenX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a21ca74edd77939253a4d2a02c2e298e1">m_lenY</a>;                  <span class="comment">// dims of image</span>
<a name="l00989"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a32eedfbcae8ebd3795e269fb480bd0ac">00989</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a32eedfbcae8ebd3795e269fb480bd0ac">m_weightR</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa7f91c5591b86b71baf0cfb9fb829993">m_weightG</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac39b0436ec0d644727c43eb53e51198e">m_weightB</a>; <span class="comment">// coeffs to make single comp image from</span>
<a name="l00990"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac084ceef3e52ad8afff498a9ad5b5129">00990</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ***<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac084ceef3e52ad8afff498a9ad5b5129">m_image</a>;            <span class="comment">// image[cur/prev][level][pixel offset]</span>
<a name="l00991"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3283501fc0a34f80c78c31706977416a">00991</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab455e7a72e73320f304ab92f0f7c5746">m_incX</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3283501fc0a34f80c78c31706977416a">m_incY</a>;                <span class="comment">// x &amp; y increments for each level of image pyramid - computed once</span>
<a name="l00992"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a14891f558d196a7af26f2518c8279a46">00992</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad7434034ca1810ebc7faa09e3331940f">m_cur</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a023c20f1e7348cf9b589d87a21cdc2fe">m_prev</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a14891f558d196a7af26f2518c8279a46">m_prevButOne</a>;     <span class="comment">// indices for cur &amp; prev image (=1,0 or 0,1)</span>
<a name="l00993"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad5d2bdd3a8c077a2afd9ef623d7e423e">00993</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad5d2bdd3a8c077a2afd9ef623d7e423e">m_nImagesLoaded</a>;                 <span class="comment">// number of times loadImage() called</span>
<a name="l00994"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a238bfcbf6aa3946fe5e7f97f32330e84">00994</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a238bfcbf6aa3946fe5e7f97f32330e84">m_tempImage</a>;          <span class="comment">// for holding image while subsampling</span>
<a name="l00995"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8abac78dca7319ffe03ed0ce10f88094">00995</a>     <span class="keywordtype">int</span> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8abac78dca7319ffe03ed0ce10f88094">m_nPatchesSeen</a>;                <span class="comment">// 2D array that counts number of patches seen in each region</span>
<a name="l00996"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac304f7ad6a60890adb7ac8e40b0988dc">00996</a>     <span class="keywordtype">int</span> ***<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac304f7ad6a60890adb7ac8e40b0988dc">m_patchPosX</a>;                  <span class="comment">// 3D array that holds the patches seen  in each region</span>
<a name="l00997"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab6af2947a554ea9028cd75c145604e76">00997</a>     <span class="keywordtype">int</span> ***<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab6af2947a554ea9028cd75c145604e76">m_patchPosY</a>;                  <span class="comment">// ditto - y coord</span>
<a name="l00998"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#abfa704024a42c339bc97af852102157d">00998</a>     <span class="keywordtype">int</span> ***<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#abfa704024a42c339bc97af852102157d">m_patchIndex</a>;                 <span class="comment">// ditto - patch index</span>
<a name="l00999"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5ab19ffe94f8c97d92a05c1f9b9d5fcb">00999</a>     <span class="keywordtype">bool</span> ***<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5ab19ffe94f8c97d92a05c1f9b9d5fcb">m_notePatchWhenLearning</a>;     <span class="comment">// ditto - wheter patch should be considered when learning new patches</span>
<a name="l01000"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2da4df80433ea970329d6c28d9ed0d7d">01000</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2da4df80433ea970329d6c28d9ed0d7d">m_usefulness</a>;                <span class="comment">// ditto - usefulness of patches in region being processed</span>
<a name="l01001"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a03533b6e0ba7ed7d42b4fc25c9087d76">01001</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa1db3b1921a41485cc038b4699146c6c">m_nRegionsX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a03533b6e0ba7ed7d42b4fc25c9087d76">m_nRegionsY</a>;        <span class="comment">// number of regions that image is divided into for patch creation</span>
<a name="l01002"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb6df516555f29dbaa277cb9ff9c08f1">01002</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb6df516555f29dbaa277cb9ff9c08f1">m_maxPatchesPerRegion</a>;           <span class="comment">// the max number of patches per region we can hold</span>
<a name="l01003"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0eac9990f1e88c6d7c20c3b53ac1b5d6">01003</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0eac9990f1e88c6d7c20c3b53ac1b5d6">m_arrayLenForFeatureFind</a>;        <span class="comment">// length of arrays to pass to findGoodFeatures - needs to be longer than maxPatchesPerRegion</span>
<a name="l01004"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afde06ca82d3327709fe4a0fec70c8ffa">01004</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#afde06ca82d3327709fe4a0fec70c8ffa">m_maxPatchesPerRegionForDistanceCheck</a>;  <span class="comment">// storage to allocate for checking nearness of prev points to potential new ones</span>
<a name="l01005"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#acc63533c22a5ff78f63862e5d77e71e0">01005</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#adcf94ef4d3fdfd1bde9b4b6405f70820">m_featureFindSsX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#acc63533c22a5ff78f63862e5d77e71e0">m_featureFindSsY</a>; <span class="comment">// step size when searching for maxima</span>
<a name="l01006"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7f7a3af3957ea8d72a7fe14450b329f5">01006</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7f7a3af3957ea8d72a7fe14450b329f5">m_minFeatureVal</a>;                 <span class="comment">// min magnitude of feature detector output to consider</span>
<a name="l01007"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a665fab3d35d2d94579599691bee635cf">01007</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a665fab3d35d2d94579599691bee635cf">m_minFeatureValBigEigen</a>;         <span class="comment">// min magnitude of feature detector big eigenvalue output to consider</span>
<a name="l01008"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a741055669a5cf2513ac42ca9ba0d4a42">01008</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a91a2ccd47a39872deb3b78c92c5fbafc">m_halfWidX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a741055669a5cf2513ac42ca9ba0d4a42">m_halfWidY</a>;          <span class="comment">// half-widths of feature detection window used when finding good features</span>
<a name="l01009"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4307b5b4485da7342911a2cac1527a88">01009</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4307b5b4485da7342911a2cac1527a88">m_minDist</a>;                       <span class="comment">// min distance between features to find</span>
<a name="l01010"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a86ca1c32e125a53da251789208b80e49">01010</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a86ca1c32e125a53da251789208b80e49">m_featureCreateBorderX</a>;          <span class="comment">// ignore this number of pixels around image edge in findNewFeatures()</span>
<a name="l01011"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a15e5f82dae09d082a0fe92c225d5de62">01011</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a15e5f82dae09d082a0fe92c225d5de62">m_featureCreateBorderY</a>;          <span class="comment">// ignore this number of pixels around image edge in findNewFeatures()</span>
<a name="l01012"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a34a1e42ce3bbfd0b234259c642d028d9">01012</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a34a1e42ce3bbfd0b234259c642d028d9">m_minIgnoreX</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab1dff52735db2c2b534310c219ebce3a">m_maxIgnoreX</a>;      <span class="comment">// ignore this rectangle of pixels within image.....</span>
<a name="l01013"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeabaf45faf54a231aca281e9b7868a1f">01013</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeabaf45faf54a231aca281e9b7868a1f">m_minIgnoreY</a>, <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a648a38ef546a6ddf1444da2d0146ad2b">m_maxIgnoreY</a>;      <span class="comment">// ...when looking for features in findNewFeatures</span>
<a name="l01014"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aca84780d30cd7afebed4514910e91ac5">01014</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aca84780d30cd7afebed4514910e91ac5">m_maxPatchesToSearchPerRegion</a>;   <span class="comment">// max number of patches that we should do a KLT search for</span>
<a name="l01015"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5c8d223520c154380a62fad22c65abda">01015</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a5c8d223520c154380a62fad22c65abda">m_patchPrefVelWeight</a>;         <span class="comment">// amount to reduce patch pref by for each pix-per-field-period velocity difference</span>
<a name="l01016"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a27d0eb706c927b1861cfffba2e7239c7">01016</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a27d0eb706c927b1861cfffba2e7239c7">m_patchPrefFoclenWeight</a>;      <span class="comment">// amount to reduce patch pref by for each factor of difference between focal lengths</span>
<a name="l01017"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab961b7001c30a7b4a984b828812b414d">01017</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab961b7001c30a7b4a984b828812b414d">m_nextRegionToSearch</a>;            <span class="comment">// next patch to search in createNewPatches()</span>
<a name="l01018"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#adff0294240cab320a22009bc7aaa608f">01018</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#adff0294240cab320a22009bc7aaa608f">m_regionToSearchX</a>;              <span class="comment">// array of patch coordintes, in the order they are to be searched</span>
<a name="l01019"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a496673dfc17d833570b82610e3015b3d">01019</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a496673dfc17d833570b82610e3015b3d">m_regionToSearchY</a>;              <span class="comment">// ditto for Y coords</span>
<a name="l01020"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a00b77ae3b43ac0ad6d72093eda304950">01020</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab15c7612e8768fc8491b7985ae8fca12">m_FeatureX</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a00b77ae3b43ac0ad6d72093eda304950">m_FeatureY</a>;        <span class="comment">// to hold coords of features found in createNewPatches()</span>
<a name="l01021"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab40ce99fddb945dd0dd948372706cca2">01021</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab40ce99fddb945dd0dd948372706cca2">m_FeatureVal</a>;                   <span class="comment">// to hold strength of features found</span>
<a name="l01022"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac09a14e46d5a927b0a78698a14274363">01022</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a85fc30afc422d26e28f57858255ea57f">m_imX</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac09a14e46d5a927b0a78698a14274363">m_imY</a>;               <span class="comment">// used in findCorrespondencies, allocated in constructor</span>
<a name="l01023"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a79c6a45c8ecab7b46cedf3e97ac4d21a">01023</a>     <span class="keywordtype">double</span> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a79c6a45c8ecab7b46cedf3e97ac4d21a">m_directionalWeight</a>;        <span class="comment">// ditto</span>
<a name="l01024"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2d5ef36c009c2e14527af1898721a074">01024</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2d5ef36c009c2e14527af1898721a074">m_kltResult</a>;                 <span class="comment">// ditto</span>
<a name="l01025"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6d92aa10107456a0a283533659757695">01025</a>     <span class="keywordtype">bool</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6d92aa10107456a0a283533659757695">m_patchVisible</a>;                <span class="comment">// ditto</span>
<a name="l01026"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aacb4ee10c37d527512b858f6f75b8dac">01026</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aaf855d31178cc867f7c09b687c8089a5">m_prevPosX</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aacb4ee10c37d527512b858f6f75b8dac">m_prevPosY</a>;     <span class="comment">// ditto</span>
<a name="l01027"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#acb3730de6f95c1bd2ce6ff3eb4e1d2a7">01027</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#acb3730de6f95c1bd2ce6ff3eb4e1d2a7">m_ignoreDistFromLineSquared</a>;  <span class="comment">// min distance squared for the above check</span>
<a name="l01028"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab1cd42ae4567e5c8505c3071acc88e7b">01028</a>     <a class="code" href="classbbcvp_1_1FittedLine.html" title="Fits a straight line through a given set of points.">FittedLine</a> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab1cd42ae4567e5c8505c3071acc88e7b">m_linesToIgnore</a>;         <span class="comment">// array of pointers to lines for above check</span>
<a name="l01029"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aff39ae3ffeafad1d9e6da854daf9ed30">01029</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aff39ae3ffeafad1d9e6da854daf9ed30">m_maxFixedWorldLines</a>;            <span class="comment">// number of lines to allocate storage for</span>
<a name="l01030"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a101db2e88012e141851609b5acbd6d1b">01030</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a101db2e88012e141851609b5acbd6d1b">m_VelocityRangeForNoRelearningX</a>;  <span class="comment">// min abs X diff between current im vel &amp; stored patch im vel before patch won&#39;t stop new ones being learned</span>
<a name="l01031"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2ce89198e8239c3b99be901039de5f72">01031</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2ce89198e8239c3b99be901039de5f72">m_VelocityRangeForNoRelearningY</a>;  <span class="comment">// ditto for Y</span>
<a name="l01032"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0b51bdce0bc89e80da67fc442496f1c5">01032</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0b51bdce0bc89e80da67fc442496f1c5">m_FocLenRatioForNoRelearning</a>;  <span class="comment">// ratio of patch focal length to current focal length below which patch will stop new ones being learned</span>
<a name="l01033"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1212db07e72636f31840ce66a1ab7013">01033</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1212db07e72636f31840ce66a1ab7013">m_featureFindLevel</a>;              <span class="comment">// level of image pyramid to use for feature finding</span>
<a name="l01034"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7813937b73ff2a7dbbbd0f814bd713d8">01034</a>     <span class="keywordtype">bool</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7813937b73ff2a7dbbbd0f814bd713d8">m_motionMask</a>;                                  <span class="comment">// store a mask indicating pixels to ignore due to real world motion between the two previous frames</span>
<a name="l01035"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa88c829c166a3ba651bddb1dc70618f1">01035</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa88c829c166a3ba651bddb1dc70618f1">m_interFrameMappingX</a>;                <span class="comment">// store the pixel mappings from previous frame to current frame at the motion mask resolution</span>
<a name="l01036"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4e87686dba4b7c224fa7aa93becbf3bf">01036</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a4e87686dba4b7c224fa7aa93becbf3bf">m_interFrameMappingY</a>;
<a name="l01037"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a267a52e8995ab1e96429d5cfeb4bf710">01037</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a267a52e8995ab1e96429d5cfeb4bf710">m_motionMaskResolution</a>;                  <span class="comment">// the image resolution of the motion mask stored as depth in the image pyramid i.e full res * 2^(-n)</span>
<a name="l01038"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac244b516d80f2081c665c1dcfad49337">01038</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac244b516d80f2081c665c1dcfad49337">m_useMotionMaskAsIgnoreRegion</a>;  <span class="comment">// whether motion mask prevents learning and tracking of points</span>
<a name="l01039"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2db2db67c63358672cf450d23d151db4">01039</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2db2db67c63358672cf450d23d151db4">m_gotValidCamMotionMask</a>;        <span class="comment">// whether we have computed a valid camera motion mask</span>
<a name="l01040"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac887d41cc6a2beb863e7b3defa33a7cd">01040</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ac887d41cc6a2beb863e7b3defa33a7cd">m_firstGoodImage</a>;                <span class="comment">// the number of images loaded when invalidateCamMotionMask was called</span>
<a name="l01041"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa3a0d456f5e8df7d9a5aaea4d2a540c9">01041</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa3a0d456f5e8df7d9a5aaea4d2a540c9">m_maxFractionToDiscardUsingMotionMask</a>;  <span class="comment">// limit of what fraction of points to discard using motion massk in findCorrespondednces()</span>
<a name="l01042"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb227bca7e40b50b1d5c14502e6003ca">01042</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb227bca7e40b50b1d5c14502e6003ca">m_measureMotionMaskAcrossFramePeriod</a>;     <span class="comment">// whether to compute motion mask across two images (i.e. across a frame) (true) or across one image (false)</span>
<a name="l01043"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6166dfe086841950417d112cf0ecb7d5">01043</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a6166dfe086841950417d112cf0ecb7d5">m_nTriStrips</a>;                    <span class="comment">// number of triangle strips defining an ignore region</span>
<a name="l01044"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3c12f804d11625a3b17b4a42127b4045">01044</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a3c12f804d11625a3b17b4a42127b4045">m_nTriPoints</a>;                   <span class="comment">// m_nTriPoints[n] - the number of points in the nth triangle strip</span>
<a name="l01045"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ade9d366daa4973547acc58db644012b5">01045</a>     <span class="keywordtype">double</span> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ade9d366daa4973547acc58db644012b5">m_triPoints</a>;                <span class="comment">// m_triPoints[n][3i+0..2] - the x/y/z coords of the ith point in the nth triangle strip</span>
<a name="l01046"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1c51f472962ada4baeda2021272d4b81">01046</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1c51f472962ada4baeda2021272d4b81">m_ignoreWithinTriangles</a>;        <span class="comment">// true if ignoring regions within triangles, or false to only use regions in triangles</span>
<a name="l01047"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8b28f92203840af21603c9a5d292313c">01047</a>     <span class="keywordtype">double</span> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8b28f92203840af21603c9a5d292313c">m_projTri</a>;                  <span class="comment">// m_projTri[n][2i+0..1] storage space for the projected vertices of each visible triangle, in pixels (allocated in setIgnoreTriStrips)</span>
<a name="l01048"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0c1fcca9b8f59432b1f128075f3d4704">01048</a>     <span class="keywordtype">bool</span> **<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0c1fcca9b8f59432b1f128075f3d4704">m_projTriPointUsable</a>;         <span class="comment">// m_triPointUsable[n][i] - whether the ith point in the nth tristrip is in front of the camera (allocated in setIgnoreTriStrips)</span>
<a name="l01049"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af124173ab386fb692cc3c3613ef95e2f">01049</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af124173ab386fb692cc3c3613ef95e2f">m_useIgnoreTriStrips</a>;           <span class="comment">// whether or not to use the triStrip ignore regions</span>
<a name="l01050"></a>01050 
<a name="l01051"></a>01051 <span class="comment">// Things for initialisation:</span>
<a name="l01052"></a>01052 
<a name="l01053"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a9630774f3bdbe2a163754d52f0af4ef2">01053</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae109818eaf034a57f412322589d411a7">m_FeatureTempX</a>, *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a9630774f3bdbe2a163754d52f0af4ef2">m_FeatureTempY</a>;        <span class="comment">// to hold coords of features found in createNewPatches()</span>
<a name="l01054"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a69ac3debe1bec7f9133e77d1d07ec9f9">01054</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a69ac3debe1bec7f9133e77d1d07ec9f9">m_FeatureTempVal</a>;                   <span class="comment">// to hold strength of features found</span>
<a name="l01055"></a>01055 
<a name="l01056"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8eeb6019e8265efc361aa2b0f2882792">01056</a>     <a class="code" href="classbbcvp_1_1randomForest.html" title="This class is the forest containing all the decision trees.">randomForest</a> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a8eeb6019e8265efc361aa2b0f2882792">rf</a>;                    <span class="comment">//The classifer</span>
<a name="l01057"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af2488b37fa9d9779d663bc6b5802cdaa">01057</a>     <a class="code" href="structbbcvp_1_1imageDetails.html" title="This structure holds onto the image on which the features lie so it can be &#39;carried&#39; through the tree...">imageDetails</a> *<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#af2488b37fa9d9779d663bc6b5802cdaa">id</a>;                    <span class="comment">//Object through which the classifier access the image</span>
<a name="l01058"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a62c137e02ec433419dd548839df825e4">01058</a>     <span class="keyword">typedef</span> std::pair&lt;int, int &gt; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a62c137e02ec433419dd548839df825e4">int_int_pair</a>; <span class="comment">//Types of pair used in evaluating the best feature matches</span>
<a name="l01059"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0175de3af29eed943c24ea84d48286ea">01059</a>     <span class="keyword">typedef</span> std::vector&lt;int_int_pair&gt; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a0175de3af29eed943c24ea84d48286ea">vec_pair</a>;
<a name="l01060"></a>01060 
<a name="l01061"></a><a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html">01061</a>     <span class="keyword">struct </span><a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html">coord_prob</a> {
<a name="l01062"></a><a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#aa8043072dd89a5bf8b5d112a53206357">01062</a>       <span class="keywordtype">int</span> <a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#aa8043072dd89a5bf8b5d112a53206357">x</a>;
<a name="l01063"></a><a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#a16157eaac5070f019ea428452603982a">01063</a>       <span class="keywordtype">int</span> <a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#a16157eaac5070f019ea428452603982a">y</a>;
<a name="l01064"></a><a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#a041d7e22e38ddd6d53799c29dd6934a2">01064</a>       <span class="keywordtype">int</span> <a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#a041d7e22e38ddd6d53799c29dd6934a2">index</a>;
<a name="l01065"></a><a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#a68ce6eb77d923993dc578450e4d6a59f">01065</a>       <span class="keywordtype">double</span> <a class="code" href="structbbcvp_1_1PatchCorrespondenceGen_1_1coord__prob.html#a68ce6eb77d923993dc578450e4d6a59f">prob</a>;
<a name="l01066"></a>01066    };
<a name="l01067"></a>01067 
<a name="l01068"></a>01068 
<a name="l01069"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae096150c6e5d754fbadef4dc1168a74c">01069</a>     <span class="keyword">typedef</span> std::vector&lt;coord_prob&gt; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae096150c6e5d754fbadef4dc1168a74c">coord_prob_v</a>;
<a name="l01070"></a>01070 
<a name="l01071"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7326fc31530584ccbaa6ca4b134e5930">01071</a>     <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae096150c6e5d754fbadef4dc1168a74c">coord_prob_v</a> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7326fc31530584ccbaa6ca4b134e5930">match_array</a>;
<a name="l01072"></a>01072 
<a name="l01073"></a>01073    <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a2f9cb7db1171ee4427297c8ae872450c">partition</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> top, <span class="keyword">const</span> <span class="keywordtype">int</span> bottom);
<a name="l01074"></a>01074    <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a7a52ea5e89140748414431954de2bf90">quicksort</a>(<span class="keywordtype">int</span> top, <span class="keywordtype">int</span> bottom);
<a name="l01075"></a>01075 
<a name="l01076"></a>01076    
<a name="l01077"></a>01077    
<a name="l01078"></a>01078    <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a74d8d4b825aafbdcb4907d83b8a09c19">upsampleAndDilateNonCameraMotionMask</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *image, <span class="keywordtype">int</span> incX, <span class="keywordtype">int</span> incY, <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY, <span class="keywordtype">int</span> image_level, 
<a name="l01079"></a>01079                                                                                                 <span class="keywordtype">bool</span> dilate=<span class="keyword">false</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dilateKernelHalfWidth=1);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 
<a name="l01082"></a>01082 
<a name="l01083"></a>01083 
<a name="l01084"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad4b8a8acfd05fb31faf17484f2a33654">01084</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ad4b8a8acfd05fb31faf17484f2a33654">match_array_index</a>;
<a name="l01085"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a920da1dde1110b478bed088f01e7870b">01085</a>     std::map&lt;int, int&gt; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a920da1dde1110b478bed088f01e7870b">indexlistMap</a>;
<a name="l01086"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb4e46d94b8b32d8a9a3c2af967a6e13">01086</a>     std::map&lt;int, double&gt; <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aeb4e46d94b8b32d8a9a3c2af967a6e13">scorelistMap</a>;
<a name="l01087"></a>01087 
<a name="l01088"></a>01088 
<a name="l01089"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1a43199e7f88f4a25c5699577690c056">01089</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a1a43199e7f88f4a25c5699577690c056">freeMove</a>;                       <span class="comment">// Flag used in the feeMove work, still under construction.</span>
<a name="l01090"></a>01090 
<a name="l01091"></a>01091 
<a name="l01092"></a>01092   <span class="comment">//TEMPORARY</span>
<a name="l01093"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae7e1340476bba5d30814e39811c0a55f">01093</a>     std::vector&lt;int&gt;<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae7e1340476bba5d30814e39811c0a55f">printMatchX</a>;
<a name="l01094"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa7434168344fb44588c481e3d9f7d778">01094</a>     std::vector&lt;int&gt;<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#aa7434168344fb44588c481e3d9f7d778">printMatchY</a>;
<a name="l01095"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a531a3a070101696c1b87af8f800a2cf3">01095</a>     std::vector&lt;int&gt;<a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#a531a3a070101696c1b87af8f800a2cf3">printMatchScore</a>;
<a name="l01096"></a><a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae2a0549e6e07a44f411b719b0a965f5a">01096</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae2a0549e6e07a44f411b719b0a965f5a">printMatch</a>;
<a name="l01097"></a>01097 
<a name="l01098"></a>01098     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ab28d184b9c2afa8a2430914a7baa2365">addToClassifier</a>(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
<a name="l01099"></a>01099     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1PatchCorrespondenceGen.html#ae8c6ed9cc75e1dde86b0a473a4dc7cd1">buildClassifier</a>();
<a name="l01100"></a>01100 
<a name="l01101"></a>01101 
<a name="l01102"></a>01102   };  <span class="comment">// end of class BlockCorrespondenceGen</span>
<a name="l01103"></a>01103 
<a name="l01104"></a>01104 }  <span class="comment">// end of bbcvp namespace</span>
<a name="l01105"></a>01105 
<a name="l01106"></a>01106 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</td>
</tr>
  </tbody>
</table>
</body>
</html>
