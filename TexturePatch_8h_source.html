<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
  <title>vplibs - header</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<body>

<a href="../../doc/index.html"><h3>BBC R&amp;D VP Libraries</h3></a>
<table>
  <tbody>
    <tr align="center" valign="top" bgcolor="#ccffff">
      <td width="100%">
	<table>
	  <tbody>
	    <tr>
	      <td> <a href="../../doc/DVSlib/index.html">DVSlib</a> | </td>
	      <td> <a href="../../doc/VPbase/index.html">VPbase</a> | </td>
              <td> <a href="../../doc/VPcoreio/index.html">VPcoreio</a> | </td>
	      <td> <a href="../../doc/VPdatadevice/index.html">VPdatadevice</a> | </td>
	      <td> <a href="../../doc/VPestimate/index.html">VPestimate</a> | </td>
	      <td> <a href="../../doc/VPgeom/index.html">VPgeom</a> | </td>
	      <td> <a href="../../doc/VPgl/index.html">VPgl</a> | </td>
	      <td> <a href="../../doc/VPip/index.html">VPip</a> | </td>
	      <td> <a href="../../doc/VPimageproc/index.html">VPimageproc</a> | </td>
	      <td> <a href="../../doc/VPtexturing/index.html">VPtexturing</a> | </td>
	      <td> <a href="../../doc/VPutil/index.html">VPutil</a> | </td>
              <td> <a href="../../doc/VPcore/index.html">VPcore (future VPbase)</a> | </td>
	      <td> <a href="../../doc/VPvis/index.html">VPvis (obsolete)</a> | </td>
	      <td> <a href="../../doc/VPio/index.html">VPio (obsolete)</a> </td>
	    </tr>
	  </tbody>
	</table>
      </td>
    </tr>
    <tr align="left" valign="top" bgcolor="#FFFFFF#ccffff">
    <td width="100%">


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_515d8571d61821fa9eacd6b7544512e3.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">TexturePatch.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TexturePatch_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * File: TexturePatch.h</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (c) 2007 The British Broadcasting Corporation.</span>
<a name="l00005"></a>00005 <span class="comment"> * &lt;b&gt;ALL RIGHTS RESERVED&lt;/b&gt;.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Copyright in the whole and every part of these source files belongs</span>
<a name="l00008"></a>00008 <span class="comment"> * to The British Broadcasting Corporation (BBC) and they</span>
<a name="l00009"></a>00009 <span class="comment"> * may not be used, sold, licenced, transferred, copied or reproduced</span>
<a name="l00010"></a>00010 <span class="comment"> * in whole or in part in any manner or form or in or on any media to</span>
<a name="l00011"></a>00011 <span class="comment"> * any person without the prior written consent of the BBC.</span>
<a name="l00012"></a>00012 <span class="comment"> */</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#ifndef TexturePatch_h</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#define TexturePatch_h</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="keyword">namespace </span>bbcvp {
<a name="l00021"></a>00021  
<a name="l00028"></a><a class="code" href="classbbcvp_1_1TexturePatch.html">00028</a>   <span class="keyword">class </span><a class="code" href="classbbcvp_1_1TexturePatch.html" title="Class to hold a multi-resolution texture patch, complete with the 3D world coordinates of its centre...">TexturePatch</a> {
<a name="l00029"></a>00029  
<a name="l00030"></a>00030   <span class="keyword">public</span>:
<a name="l00031"></a>00031 
<a name="l00046"></a>00046     <a class="code" href="classbbcvp_1_1TexturePatch.html#ae8d8ce772394e4984c7088ece5e35ed5" title="Constructor.">TexturePatch</a>(<span class="keywordtype">int</span> patchLenX, <span class="keywordtype">int</span> patchLenY,
<a name="l00047"></a>00047                  <span class="keywordtype">int</span> nResolutions=1);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049     <a class="code" href="classbbcvp_1_1TexturePatch.html#aec147abfb4eea19c934c8bc3f8ca5bfd">~TexturePatch</a>();
<a name="l00050"></a>00050 
<a name="l00066"></a>00066     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ac88edc74e0e8fe1af53e4949fb668e88" title="Copy image data into the given resolution level of the patch.">setImage</a>(<span class="keywordtype">int</span> level,
<a name="l00067"></a>00067                   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *ImageTopLeft,
<a name="l00068"></a>00068                   <span class="keywordtype">int</span> imageIncY,
<a name="l00069"></a>00069                   <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY,
<a name="l00070"></a>00070                   <span class="keywordtype">double</span> centreX, <span class="keywordtype">double</span> centreY);
<a name="l00071"></a>00071 
<a name="l00087"></a>00087     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a6a538033467aad941525a0c968e26646" title="Copy image data into all resolution levels of the patch.">setImageAllLevels</a>(<span class="keywordtype">int</span> nResolutions,
<a name="l00088"></a>00088                             <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **ImagePyramidTopLeft,
<a name="l00089"></a>00089                             <span class="keywordtype">int</span> *imagePyramidIncY,
<a name="l00090"></a>00090                             <span class="keywordtype">int</span> lenX, <span class="keywordtype">int</span> lenY,
<a name="l00091"></a>00091                             <span class="keywordtype">double</span> centreX, <span class="keywordtype">double</span> centreY);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     <span class="comment">// /**</span>
<a name="l00094"></a>00094     <span class="comment">//  * Set the 3D location of the patch</span>
<a name="l00095"></a>00095     <span class="comment">//  *</span>
<a name="l00096"></a>00096     <span class="comment">//  */</span>
<a name="l00097"></a>00097     <span class="comment">// inline void setPos(double x, double y, double z) { m_posX=x; m_posY=y; m_posZ=z; }</span>
<a name="l00098"></a>00098 
<a name="l00100"></a>00100     <span class="comment">// * Return the 3D coordinates of the patch</span>
<a name="l00101"></a>00101     <span class="comment">// *</span>
<a name="l00102"></a>00102     <span class="comment">// **/</span>
<a name="l00103"></a>00103     <span class="comment">//inline void getPos(double *x, double *y, double *z) { *x=m_posX; *y=m_posY; *z=m_posZ; }</span>
<a name="l00104"></a>00104 
<a name="l00109"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a216b4355af053003168d906541d388b3">00109</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a216b4355af053003168d906541d388b3" title="Set the 3D location of the patch.">getFocalLength</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a226e0acb409867479e41e69f88233b87">m_focalLength</a>; }
<a name="l00110"></a>00110 
<a name="l00115"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#ae61c9eb0f01f728b53a2ac391d46f857">00115</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ae61c9eb0f01f728b53a2ac391d46f857" title="Set the focal length at which the texture patch was captured.">setFocalLength</a>(<span class="keywordtype">double</span> focLen) {  <a class="code" href="classbbcvp_1_1TexturePatch.html#a226e0acb409867479e41e69f88233b87">m_focalLength</a> = focLen; }
<a name="l00116"></a>00116 
<a name="l00121"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#afff480cca002dd6b1a2da966056a080b">00121</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#afff480cca002dd6b1a2da966056a080b" title="Return the constraint associated with this patch.">getFixedAxis</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ac2d8006d11aa0a5c653ad5acc65ea65e">m_fixedAxis</a>; }
<a name="l00122"></a>00122 
<a name="l00127"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a5660e7b79cc4ea724bb9b9c92915836f">00127</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a5660e7b79cc4ea724bb9b9c92915836f" title="Set the constraint associated with this patch.">setFixedAxis</a>(<span class="keywordtype">int</span> fixedAxis) { <a class="code" href="classbbcvp_1_1TexturePatch.html#ac2d8006d11aa0a5c653ad5acc65ea65e">m_fixedAxis</a>=fixedAxis; }
<a name="l00128"></a>00128 
<a name="l00133"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#abdd270bf02cc2f73fde94f80b965c8c1">00133</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span>* <a class="code" href="classbbcvp_1_1TexturePatch.html#abdd270bf02cc2f73fde94f80b965c8c1" title="Return a pointer to the array specifying the x increments for the pitches stored at each level...">getIncXArray</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ad42fc4160d5718963366b5dc52f60d57">m_incX</a>; }  <span class="comment">// NB increments are the same for warped or original patches</span>
<a name="l00134"></a>00134 
<a name="l00139"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#aa28d742810e64dc1f17905db6f940e78">00139</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span>* <a class="code" href="classbbcvp_1_1TexturePatch.html#aa28d742810e64dc1f17905db6f940e78" title="Return a pointer to the array specifying the y increments for the pitches stored at each level...">getIncYArray</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a9ef227395e0a259c3e4397192bc8a839">m_incY</a>; }
<a name="l00140"></a>00140 
<a name="l00145"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a00a19733195f87b02ed21716617c781d">00145</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>** <a class="code" href="classbbcvp_1_1TexturePatch.html#a00a19733195f87b02ed21716617c781d" title="Return a pointer to the array specifying where the image for each level is stored.">getImagePointerArray</a>() { <span class="keywordflow">if</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a>) <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a5c09af0c2763f4f7bd389577fe34ab6c">m_imageWarped</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a61f629a99115490caa1f83aaf1f5b9cc">m_image</a>; }
<a name="l00146"></a>00146 
<a name="l00150"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#afc47a4e9fcd273e7b2e314a81126daaa">00150</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#afc47a4e9fcd273e7b2e314a81126daaa" title="Set the expiry time of the patch (-1=live forever)">setExpiryTime</a>(<span class="keywordtype">int</span> expiryTime) { <a class="code" href="classbbcvp_1_1TexturePatch.html#a9407a298e3d4e493b5b0a77f9fd981a5">m_expiryTime</a> = expiryTime; }
<a name="l00151"></a>00151 
<a name="l00155"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a382da94934f7c10cdf5929bde70e16ce">00155</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a382da94934f7c10cdf5929bde70e16ce" title="get the expiry time of the patch (-1=live forever)">getExpiryTime</a>() { <span class="keywordflow">return</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a9407a298e3d4e493b5b0a77f9fd981a5">m_expiryTime</a>); }
<a name="l00156"></a>00156 
<a name="l00165"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a20763485ef65257a79d732bf9d5a58aa">00165</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a20763485ef65257a79d732bf9d5a58aa" title="Get the image velocity at which the patch was captured.">getVelocity</a>(<span class="keywordtype">double</span> *velX, <span class="keywordtype">double</span> *velY) { *velX = <a class="code" href="classbbcvp_1_1TexturePatch.html#aa3dc7157bacbf31451b498bcaad386bf">m_velX</a>; *velY = <a class="code" href="classbbcvp_1_1TexturePatch.html#a889d35a3a3179c87d0ea6289cc067b48">m_velY</a>; }
<a name="l00166"></a>00166 
<a name="l00175"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a7d6671792f3c118e6660c3fba8bbd866">00175</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a7d6671792f3c118e6660c3fba8bbd866" title="Set the image velocity at which the patch was captured.">setVelocity</a>(<span class="keywordtype">double</span> velX, <span class="keywordtype">double</span> velY) { <a class="code" href="classbbcvp_1_1TexturePatch.html#aa3dc7157bacbf31451b498bcaad386bf">m_velX</a> = velX; <a class="code" href="classbbcvp_1_1TexturePatch.html#a889d35a3a3179c87d0ea6289cc067b48">m_velY</a> = velY; }
<a name="l00176"></a>00176 
<a name="l00184"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#ad3a296449c9236e09b304556b4ca430d">00184</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#ad3a296449c9236e09b304556b4ca430d" title="Get the position of the feature point in the given level of the patch (this will be approximately at ...">getFeaturePosXArray</a>() { <span class="keywordflow">return</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#abdafdfc5d9e4c3ba6721dc30b69fbc77">m_featurePosX</a>); }
<a name="l00185"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a79e569bbd99c971a008130cbd37941d6">00185</a>     <span class="keyword">inline</span> <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#a79e569bbd99c971a008130cbd37941d6">getFeaturePosYArray</a>() { <span class="keywordflow">return</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a566eca63a067d2fd99457ef4f676d833">m_featurePosY</a>); }
<a name="l00186"></a>00186 
<a name="l00197"></a>00197     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#adb2bc98741b5b83eebde48d44538579e" title="Generate a set of warped image patches for the range of levels requested, to match the given the foca...">generateWarpedPatch</a>(
<a name="l00198"></a>00198         <span class="keywordtype">double</span> newFocalLength,
<a name="l00199"></a>00199         <span class="keywordtype">int</span> lowestLevel, <span class="keywordtype">int</span> highestLevel);
<a name="l00200"></a>00200 
<a name="l00207"></a>00207     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a4d10def4ea6bad4ab8d67b2b40c673be" title="Warp the patch at the given level, writing the result to the given array.">warpOneLevel</a>(<span class="keywordtype">int</span> level, <span class="keywordtype">double</span> scaleChange, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *warpedPatch,
<a name="l00208"></a>00208                       <span class="keywordtype">int</span> *missingX0,
<a name="l00209"></a>00209                       <span class="keywordtype">int</span> *missingX1,
<a name="l00210"></a>00210                       <span class="keywordtype">int</span> *missingY0,
<a name="l00211"></a>00211                       <span class="keywordtype">int</span> *missingY1,
<a name="l00212"></a>00212                       <span class="keywordtype">double</span> inCentreX, <span class="keywordtype">double</span> inCentreY,     <span class="comment">// point in patch to expand/shrink about</span>
<a name="l00213"></a>00213                       <span class="keywordtype">double</span> outCentreX, <span class="keywordtype">double</span> outCentreY);  <span class="comment">// coords in output patch that the input centre maps to</span>
<a name="l00220"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#ab37143af759c4d10256147c7a8dd1df9">00220</a> <span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ab37143af759c4d10256147c7a8dd1df9" title="Specify if original or warped patch is to be returned using the unwarped patch for calls to getImageP...">useWarpedPatch</a>(<span class="keywordtype">bool</span> useWarped=<span class="keyword">true</span>) {<a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a> = useWarped; }
<a name="l00221"></a>00221 
<a name="l00228"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a5348de4f090fb2c22c8d2ea32e2042db">00228</a>     <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a5348de4f090fb2c22c8d2ea32e2042db" title="Specify whether patch warping uses bilinear warping (using just the level closest in scale) or trilin...">useTrilinearWarp</a>(<span class="keywordtype">bool</span> trilinearWarp=<span class="keyword">true</span>) { <a class="code" href="classbbcvp_1_1TexturePatch.html#abd82c176668cd31868b3b1882aa9b4e3">m_useTrilinearWarp</a>=trilinearWarp; }
<a name="l00229"></a>00229 
<a name="l00234"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#aad1799967413b4e7a7c0829d39ef106a">00234</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> * <a class="code" href="classbbcvp_1_1TexturePatch.html#aad1799967413b4e7a7c0829d39ef106a" title="Return pointer to array specifying number of &#39;missing&#39; samples on left of stored block.">getMissingX0Array</a>() { <span class="keywordflow">if</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a>) <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#af7126ae3c1cf8be4b77fc5dfb28e4858">m_missingX0Warped</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a72ed08b1ccfd9cf909414a6993750a8b">m_missingX0</a>; }
<a name="l00235"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a5637bb7ccd0c78baf265312da479e613">00235</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> * <a class="code" href="classbbcvp_1_1TexturePatch.html#a5637bb7ccd0c78baf265312da479e613">getMissingX1Array</a>() { <span class="keywordflow">if</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a>) <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#acfa494b71f61081b49a3d91853f66cc9">m_missingX1Warped</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#aeb92a7c8a207481b6d6c7a1c878551e6">m_missingX1</a>; }
<a name="l00236"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a3e67b6ee55c4d8d07a962b1d072e397c">00236</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> * <a class="code" href="classbbcvp_1_1TexturePatch.html#a3e67b6ee55c4d8d07a962b1d072e397c">getMissingY0Array</a>() { <span class="keywordflow">if</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a>) <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ac9ba1ac3f76e8a09e2a5f011988b410c">m_missingY0Warped</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a53b13ff457913a3aebc4990b158805aa">m_missingY0</a>; }
<a name="l00237"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a4cac5eddb026691f158cd7483bb57e4f">00237</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> * <a class="code" href="classbbcvp_1_1TexturePatch.html#a4cac5eddb026691f158cd7483bb57e4f">getMissingY1Array</a>() { <span class="keywordflow">if</span> (<a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a>) <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a2d2335963df82212712ebc9e575ad37b">m_missingY1Warped</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#aa981a7db0fd6a859fbe9505893458951">m_missingY1</a>; }
<a name="l00238"></a>00238 
<a name="l00244"></a>00244     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a45fe2491a4167bbefe048cceade65776" title="Write data for this texture patch to the given file descriptor.">writePatch</a>(FILE *fp);
<a name="l00245"></a>00245     
<a name="l00251"></a>00251     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a63c07a933a0d4a15c4a6b861dc5e0b6e" title="Read data for this texture patch from the given file descriptor.">readPatch</a>(FILE *fp);
<a name="l00252"></a>00252 
<a name="l00256"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a29b548b0108c6df7844706d049154a10">00256</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a29b548b0108c6df7844706d049154a10" title="Get number of times this patch has been seen.">getTimesSeen</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#abec6fd9980633ae3f5873fa87c0d1d03">m_timesSeen</a>; }
<a name="l00257"></a>00257     
<a name="l00261"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a71ea93c06948ff0550fe50f7721a6efe">00261</a>     <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a71ea93c06948ff0550fe50f7721a6efe" title="Get number of times this patch has been an inlier.">getTimesInlier</a>() { <span class="keywordflow">return</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#af56dab2ba3af815e59b4e9cc0e3a5668">m_timesInlier</a>; }
<a name="l00262"></a>00262     
<a name="l00266"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a0f277a3b1193c6e7b397d62e48794096">00266</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a0f277a3b1193c6e7b397d62e48794096" title="Set number of times this patch has been seen.">setTimesSeen</a>(<span class="keywordtype">int</span> timesSeen) { <a class="code" href="classbbcvp_1_1TexturePatch.html#abec6fd9980633ae3f5873fa87c0d1d03">m_timesSeen</a>=timesSeen; }
<a name="l00267"></a>00267     
<a name="l00271"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a818a17b5d8c1a4cc353354bbbb7aadd7">00271</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a818a17b5d8c1a4cc353354bbbb7aadd7" title="Set number of times this patch has been an inlier.">setTimesInlier</a>(<span class="keywordtype">int</span> timesInlier) { <a class="code" href="classbbcvp_1_1TexturePatch.html#af56dab2ba3af815e59b4e9cc0e3a5668">m_timesInlier</a>=timesInlier; }
<a name="l00272"></a>00272 
<a name="l00276"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a08be6948375a26bcc96ee829925e0ebe">00276</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a08be6948375a26bcc96ee829925e0ebe" title="Increment the number of times this patch has been seen.">incrementTimesSeen</a>() { <a class="code" href="classbbcvp_1_1TexturePatch.html#abec6fd9980633ae3f5873fa87c0d1d03">m_timesSeen</a>++; }
<a name="l00277"></a>00277     
<a name="l00281"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a8fd62c1e0c0724cad4d7ad59d81539a0">00281</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a8fd62c1e0c0724cad4d7ad59d81539a0" title="Increment the number of times this patch has been an inlier.">incrementTimesInlier</a>() { <a class="code" href="classbbcvp_1_1TexturePatch.html#af56dab2ba3af815e59b4e9cc0e3a5668">m_timesInlier</a>++; }
<a name="l00282"></a>00282 
<a name="l00283"></a>00283   <span class="keyword">private</span>:
<a name="l00284"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a08134b4b96ed935d93fd77e0c19b548f">00284</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#abc9a60b8cda2e3b493078c59af595c5b">m_patchLenX</a>, <a class="code" href="classbbcvp_1_1TexturePatch.html#a08134b4b96ed935d93fd77e0c19b548f">m_patchLenY</a>;        <span class="comment">// dimensions of patches (ie blocks)</span>
<a name="l00285"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a825536b9299b677963768d0ca7af29c8">00285</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a825536b9299b677963768d0ca7af29c8">m_nResolutions</a>;                  <span class="comment">// number of resolution levels for multi-resolution matiching</span>
<a name="l00286"></a>00286     <span class="comment">//double m_posX, m_posY, m_posZ;       // 3D coordinates of patch centre</span>
<a name="l00287"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a226e0acb409867479e41e69f88233b87">00287</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a226e0acb409867479e41e69f88233b87">m_focalLength</a>;                <span class="comment">// focal len of camera when patch was captured</span>
<a name="l00288"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a9ef227395e0a259c3e4397192bc8a839">00288</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#ad42fc4160d5718963366b5dc52f60d57">m_incX</a>, *<a class="code" href="classbbcvp_1_1TexturePatch.html#a9ef227395e0a259c3e4397192bc8a839">m_incY</a>;                <span class="comment">// arrays of increments specifying how x and y are packed in m_image array (for passing out)</span>
<a name="l00289"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a61f629a99115490caa1f83aaf1f5b9cc">00289</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **<a class="code" href="classbbcvp_1_1TexturePatch.html#a61f629a99115490caa1f83aaf1f5b9cc">m_image</a>;             <span class="comment">// image[level][pixel offset]</span>
<a name="l00290"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a5c09af0c2763f4f7bd389577fe34ab6c">00290</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **<a class="code" href="classbbcvp_1_1TexturePatch.html#a5c09af0c2763f4f7bd389577fe34ab6c">m_imageWarped</a>;       <span class="comment">// imageWarped[level][pixel offset] - after application of given zoom/warp</span>
<a name="l00291"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#ac2d8006d11aa0a5c653ad5acc65ea65e">00291</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#ac2d8006d11aa0a5c653ad5acc65ea65e">m_fixedAxis</a>;                     <span class="comment">// the constraint to apply to the patch&#39;s world coords (0=none, 1=x, 2=y, 3=z)</span>
<a name="l00292"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a53b13ff457913a3aebc4990b158805aa">00292</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#a72ed08b1ccfd9cf909414a6993750a8b">m_missingX0</a>, *<a class="code" href="classbbcvp_1_1TexturePatch.html#a53b13ff457913a3aebc4990b158805aa">m_missingY0</a>;      <span class="comment">// how many samples at L/top at each level don&#39;t hold data (due to falling off image edge)</span>
<a name="l00293"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#aa981a7db0fd6a859fbe9505893458951">00293</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#aeb92a7c8a207481b6d6c7a1c878551e6">m_missingX1</a>, *<a class="code" href="classbbcvp_1_1TexturePatch.html#aa981a7db0fd6a859fbe9505893458951">m_missingY1</a>;      <span class="comment">// how many samples at R/botom at each level don&#39;t hold data (due to falling off image edge)</span>
<a name="l00294"></a>00294     <span class="comment">// ditto for warped images:</span>
<a name="l00295"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#ac9ba1ac3f76e8a09e2a5f011988b410c">00295</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#af7126ae3c1cf8be4b77fc5dfb28e4858">m_missingX0Warped</a>, *<a class="code" href="classbbcvp_1_1TexturePatch.html#ac9ba1ac3f76e8a09e2a5f011988b410c">m_missingY0Warped</a>;      <span class="comment">// how many samples at L/top at each level don&#39;t hold data (due to falling off image edge)</span>
<a name="l00296"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a2d2335963df82212712ebc9e575ad37b">00296</a>     <span class="keywordtype">int</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#acfa494b71f61081b49a3d91853f66cc9">m_missingX1Warped</a>, *<a class="code" href="classbbcvp_1_1TexturePatch.html#a2d2335963df82212712ebc9e575ad37b">m_missingY1Warped</a>;      <span class="comment">// how many samples at R/botom at each level don&#39;t hold data (due to falling off image edge)</span>
<a name="l00297"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">00297</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a7f302d219ca8c33794c1426b362105b8">m_usingWarpedPatch</a>;
<a name="l00298"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#abd82c176668cd31868b3b1882aa9b4e3">00298</a>     <span class="keywordtype">bool</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#abd82c176668cd31868b3b1882aa9b4e3">m_useTrilinearWarp</a>;             <span class="comment">// whether patch warping using one pach (bilinear) or two (trilinear)</span>
<a name="l00299"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#aa3679ee47858908e148e8f525749151a">00299</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#aa3679ee47858908e148e8f525749151a">m_imageWarpedTemp</a>;    <span class="comment">// for storing intermediate results when doing trilinear warp</span>
<a name="l00300"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a9407a298e3d4e493b5b0a77f9fd981a5">00300</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#a9407a298e3d4e493b5b0a77f9fd981a5">m_expiryTime</a>;                    <span class="comment">// an integer used to represent a time value when deleting old patches</span>
<a name="l00301"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a566eca63a067d2fd99457ef4f676d833">00301</a>     <span class="keywordtype">double</span> *<a class="code" href="classbbcvp_1_1TexturePatch.html#abdafdfc5d9e4c3ba6721dc30b69fbc77">m_featurePosX</a>, *<a class="code" href="classbbcvp_1_1TexturePatch.html#a566eca63a067d2fd99457ef4f676d833">m_featurePosY</a>;  <span class="comment">// pos of feature w.r.t. pixel (0,0) at each level</span>
<a name="l00302"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#a889d35a3a3179c87d0ea6289cc067b48">00302</a>     <span class="keywordtype">double</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#aa3dc7157bacbf31451b498bcaad386bf">m_velX</a>, <a class="code" href="classbbcvp_1_1TexturePatch.html#a889d35a3a3179c87d0ea6289cc067b48">m_velY</a>;               <span class="comment">// image velocity in pixels/lines per im period when patch was captured</span>
<a name="l00303"></a><a class="code" href="classbbcvp_1_1TexturePatch.html#abec6fd9980633ae3f5873fa87c0d1d03">00303</a>     <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1TexturePatch.html#abec6fd9980633ae3f5873fa87c0d1d03">m_timesSeen</a>, <a class="code" href="classbbcvp_1_1TexturePatch.html#af56dab2ba3af815e59b4e9cc0e3a5668">m_timesInlier</a>;      <span class="comment">// count of number of times this patch was visible, and was deemed an inlier</span>
<a name="l00304"></a>00304   };  <span class="comment">// end of class BlockCorrespondenceGen</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 }  <span class="comment">// end of bbcvp namespace</span>
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</td>
</tr>
  </tbody>
</table>
</body>
</html>
