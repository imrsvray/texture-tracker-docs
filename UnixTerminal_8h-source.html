<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
  <title>vplibs - header</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<body>
 <table>
  <tbody>
<tr align="left" valign="top" bgcolor="#ccffff">
<td width="100%">
<table>
  <tbody>
    <tr>
      <td> <a href="/project/vp/vplibs/index.html"><h3> BBC R&amp;D VP
Libraries: </h3></a></td> 
      <td> <a href="/project/vp/vplibs/soGeM/doc/index.html">soGeM</a> |
</td>
      <td> <a 
href="/project/vp/vplibs/VPtexturing/doc/index.html">VPtexturing</a> |
</td>

	<td> <a href="/project/vp/vplibs/VPgeom/doc/index.html">VPgeom</a> |
</td>      
	<td> <a href="/project/vp/vplibs/VPio/doc/index.html">VPio</a> | </td>
	<td> <a href="/project/vp/vplibs/VPip/doc/index.html">VPip</a> | </td>
	<td> <a href="/project/vp/vplibs/VPutil/doc/index.html">VPutil</a> | </td>
        <td> VPai | </td>
      <td> DVSlib | </td>
    </tr>
  </tbody>
</table>
</td>
</tr>
<tr align="left" valign="top" bgcolor="#FFFFFF#ccffff">
<td width="100%">

<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1>UnixTerminal.h</h1><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">* File: UnixTerminal.h</span>
00003 <span class="comment">*</span>
00004 <span class="comment">* Copyright (c) 2004 The British Broadcasting Corporation.</span>
00005 <span class="comment">* &lt;b&gt;ALL RIGHTS RESERVED&lt;/b&gt;.</span>
00006 <span class="comment">*</span>
00007 <span class="comment">* Copyright in the whole and every part of these source files belongs</span>
00008 <span class="comment">* to The British Broadcasting Corporation (BBC) and they</span>
00009 <span class="comment">* may not be used, sold, licenced, transferred, copied or reproduced</span>
00010 <span class="comment">* in whole or in part in any manner or form or in or on any media to</span>
00011 <span class="comment">* any person without the prior written consent of the BBC.</span>
00012 <span class="comment">*/</span>
00013 
00014 
00015 <span class="preprocessor">#ifndef UnixTerminal_h</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#define UnixTerminal_h</span>
00017 <span class="preprocessor"></span>
00018 <span class="preprocessor">#include &lt;iostream&gt;</span>
00019 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
00020 <span class="preprocessor">#include &lt;termios.h&gt;</span>
00021 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
00022 <span class="preprocessor">#include &lt;sys/ioctl.h&gt;</span>
00023 <span class="preprocessor">#include &lt;string.h&gt;</span>
00024 
00025 
00026 <span class="keyword">namespace </span>bbcvp {
00027 
<a name="l00060"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html">00060</a> <span class="keyword">class </span><a class="code" href="classbbcvp_1_1UnixTerminal.html">UnixTerminal</a>
00061 {
00062 <span class="keyword">public</span>:
00067         <a class="code" href="classbbcvp_1_1UnixTerminal.html#a0">UnixTerminal</a>( );
00068 
00073         <a class="code" href="classbbcvp_1_1UnixTerminal.html#a1">~UnixTerminal</a>( );
00074 
00086         <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#a2">readChrOrEscSeq</a>(FILE *fp = stdin);
00087 
<a name="l00089"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s0">00089</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s0">ESCSEQ_F1</a>=301;
<a name="l00091"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s1">00091</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s1">ESCSEQ_F2</a>=302;
<a name="l00093"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s2">00093</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s2">ESCSEQ_F3</a>=303;
<a name="l00095"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s3">00095</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s3">ESCSEQ_F4</a>=304;
<a name="l00097"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s4">00097</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s4">ESCSEQ_F5</a>=305;
<a name="l00099"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s5">00099</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s5">ESCSEQ_F6</a>=306;
<a name="l00101"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s6">00101</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s6">ESCSEQ_F7</a>=307;
<a name="l00103"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s7">00103</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s7">ESCSEQ_F8</a>=308;
<a name="l00105"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s8">00105</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s8">ESCSEQ_F9</a>=309;
<a name="l00107"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s9">00107</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s9">ESCSEQ_F10</a>=310;
<a name="l00109"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s10">00109</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s10">ESCSEQ_F11</a>=311;
<a name="l00111"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s11">00111</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s11">ESCSEQ_F12</a>=312;
<a name="l00113"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s12">00113</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s12">ESCSEQ_UPARROW</a>=313;
<a name="l00115"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s13">00115</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s13">ESCSEQ_DOWNARROW</a>=314;
<a name="l00117"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s14">00117</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s14">ESCSEQ_RIGHTARROW</a>=315;
<a name="l00119"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s15">00119</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s15">ESCSEQ_LEFTARROW</a>=316;
<a name="l00121"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s16">00121</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s16">ESCSEQ_INSERT</a>=317;
<a name="l00123"></a><a class="code" href="classbbcvp_1_1UnixTerminal.html#s17">00123</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classbbcvp_1_1UnixTerminal.html#s17">ESCSEQ_DELETE</a>=318;
00124 
00125 
00126 <span class="keyword">protected</span>:
00127 
00128 <span class="keyword">private</span>:
00129         <span class="comment">// number of chrs in each esc seq in array</span>
00130         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_ESC_LEN = 4;
00131         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> N_ESC_SEQ = 31;
00132 
00133         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> seq[MAX_ESC_LEN];  <span class="comment">// to hold partially-built esc seqs</span>
00134 
00135         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> esc_seq[N_ESC_SEQ * MAX_ESC_LEN];
00136         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> esc_len[N_ESC_SEQ];
00137         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> esc_code[N_ESC_SEQ];
00138 
00143         <span class="keywordtype">void</span> setupTermKB();
00144 
00149         <span class="keywordtype">void</span> restoreTermKB();
00150 
00151 
00153         <span class="keywordtype">int</span> esc_chrs_read;
00154 
00156         <span class="keyword">struct </span>termios term_ctl_original;  <span class="comment">/* needs to be shared by setup &amp; restore routines */</span>
00157 
00158         <span class="comment">// remember if we have ever setup the terminal, so we can restore if necessary</span>
00159         <span class="keywordtype">bool</span> term_setup;
00160 
00161 };
00162 
00163 }<span class="comment">// end namespace</span>
00164 
00165 <span class="preprocessor">#endif // UnixTerminal_h</span>
</pre></div></td>
</tr>
  </tbody>
</table>
</body>
</html>
