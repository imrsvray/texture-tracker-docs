<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
  <title>vplibs - header</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<body>
 <table>
  <tbody>
<tr align="left" valign="top" bgcolor="#ccffff">
<td width="100%">
<table>
  <tbody>
    <tr>
      <td> <a href="/project/vp/vplibs/index.html"><h3> BBC R&amp;D VP
Libraries: </h3></a></td> 
      <td> <a href="/project/vp/vplibs/soGeM/doc/index.html">soGeM</a> |
</td>
      <td> <a 
href="/project/vp/vplibs/VPtexturing/doc/index.html">VPtexturing</a> |
</td>

	<td> <a href="/project/vp/vplibs/VPgeom/doc/index.html">VPgeom</a> |
</td>      
	<td> <a href="/project/vp/vplibs/VPio/doc/index.html">VPio</a> | </td>
	<td> <a href="/project/vp/vplibs/VPip/doc/index.html">VPip</a> | </td>
	<td> <a href="/project/vp/vplibs/VPutil/doc/index.html">VPutil</a> | </td>
        <td> VPai | </td>
      <td> DVSlib | </td>
    </tr>
  </tbody>
</table>
</td>
</tr>
<tr align="left" valign="top" bgcolor="#FFFFFF#ccffff">
<td width="100%">

<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1>bbcvp::PoseEstPanTiltHead Class Reference</h1>Estimates pan/tilt/roll of a camera in a series of images, plus its fixed offset from a world object, from observations of lines.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="PoseEstPanTiltHead_8h-source.html">PoseEstPanTiltHead.h</a>&gt;</code>
<p>
<a href="classbbcvp_1_1PoseEstPanTiltHead-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a0">PoseEstPanTiltHead</a> (int maxLines=100, int maxCameras=1, int maxObjects=1, int xlen=720, int ylen=576, double aspect=16.0/9.0 *720.0/702.0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a1" doxytag="bbcvp::PoseEstPanTiltHead::~PoseEstPanTiltHead"></a>
&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a1">~PoseEstPanTiltHead</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a2">setVerbosity</a> (int verbosity)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the verbosity level. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a3">addLine</a> (double x0, double y0, double z0, double x1, double y1, double z1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a 3D line to the world model. </em> <a href="#a3"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a4">addLineObservation</a> (int lineIndex, double x0, double y0, double x1, double y1, double weight=1.0, int cam=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an observation of a line to the given camera view. </em> <a href="#a4"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a5">getNLines</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of 3D lines added. </em> <a href="#a5"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a6">clearAllImages</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear all image data previously added. </em> <a href="#a6"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a7">clearLastImage</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the image data most recently added. </em> <a href="#a7"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a8">addNewImage</a> (int fieldType)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new instance of a camera with the given field polarity. </em> <a href="#a8"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a9">adjustCamPos</a> (bool adjust)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specify whether the relative position of the camera and the object are to be adjusted by calcSolution(). </em> <a href="#a9"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a10">rollPitchNotCamera</a> (bool rollPitch)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Specify whether pitch is allowed to rotate about x and z axes instead of cameras being allowed non-zero roll. </em> <a href="#a10"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a11">calcFullSolution</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute a new estimate for the camera and/or object data, using the points and/or lines data from all camera views. </em> <a href="#a11"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>double&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a12">calcLastSolution</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute a new estimate for the camera and/or object data, for the most recently-added camera only. </em> <a href="#a12"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a13">setCamPos</a> (double x, double y, double z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the position of the camera with respect to the objects. </em> <a href="#a13"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a14">getCamPos</a> (double *x, double *y, double *z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the position of the camera with respect to the objects. </em> <a href="#a14"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a15">getPitchRot</a> (double *x, double *y, double *z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the rotation of the pitch with respect to the global reference frame. </em> <a href="#a15"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a16">setPitchRot</a> (double x, double y, double z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the rotation of the pitch (i.e. </em> <a href="#a16"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a17">setCamRotPTR</a> (double pan, double tilt, double roll, int cam=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the pan, tilt and roll values of the given camera with respect to the objects. </em> <a href="#a17"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a18">getCamRotPTR</a> (double *pan, double *tilt, double *roll, int cam=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the pan, tilt and roll values of the given camera with respect to the objects. </em> <a href="#a18"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a19">getCamFOV</a> (double *fovy, int cam=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the vertical field-of-view of the given camera instance. </em> <a href="#a19"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a20">setCamFOV</a> (double fovy, int cam=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the vertical field-of-view of the given camera instance. </em> <a href="#a20"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a21">projectIntoImage</a> (int lineIndex, double *x0, double *y0, double *x1, double *y1, double lineWid=0, double *projectedWidth=(double *) 0, int cam=-1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Project the given stored 3D line into the given camera view. </em> <a href="#a21"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Estimates pan/tilt/roll of a camera in a series of images, plus its fixed offset from a world object, from observations of lines. 
<p>
The reference frame used should be right-handed. The y axis must point up if the camera roll is to be constrained (see <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a10">rollPitchNotCamera()</a> ).<p>
Typically, this class will be used as follows: To compute a camera position consistent with multiple views from a camera on a pan/tilt head, starting with estiamted position &amp; rotation, but optionally refining the position as we go:<ul>
<li>call constructor</li><li>add all the 3D world lines to the worldLines array by calling addLine for each line</li><li>optionally, call <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a10">rollPitchNotCamera()</a> if this constraint is desired.</li><li>Call setCamPos, setCamRotPTR and setCamFOV (defaulting for image 0), giving approximately-correct values (e.g. corresponding to first image to be processed, derived manually)</li><li>For each image,<ul>
<li>call addNewImage(fieldType) to increse the count of observed images and set its field polarity - a new image instance will be created. (The initial values for camera angle and field-of-view will be taken from the current values of the most recently-created camera; note this could be a camera that has just been cleared, and may mean that the values are effectively copied from itself. If no cameras have been created yet, or <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a6">clearAllImages()</a> has been called, the initial values are taken from camera 0.)</li><li>For each line i in the model:<ul>
<li>call projectIntoImage(i) to project line into latest camera</li><li>look in the image to see if there's a line roughly where expected</li><li>if a line is found, call addLineObservation(i, x0, y0, x1, y1, weight) to specify the 2D line coords of line i (the weight value is optional, e.g. could be set to the number of points in the line).</li></ul>
</li><li>If this image is to be used to help refine the camera position:<ul>
<li>call adjustCamPos(true) to tell it to adjust the position of all camera instances created</li><li>call CalcFullSolution() to compute cam pos and pose for all images</li><li>call getCamPos, getCamRot and getCamFOV to return the params of the latest camera added</li></ul>
</li><li>If this image is NOT to be used to help refine the camera position:<ul>
<li>call adjustCamPos(false) to tell it to fix the position of all camera instances</li><li>call CalcLastSolution() to compute cam pos and pose for just the latest image</li><li>call getCamPos, getCamRot and getCamFOV to return the params of the latest camera added (although camPos will not have changed from before).</li><li>call <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a7">clearLastImage()</a> so that next image added will replace this one </li></ul>
</li></ul>
</li></ul>

<p>

<p>
Definition at line <a class="el" href="PoseEstPanTiltHead_8h-source.html#l00066">66</a> of file <a class="el" href="PoseEstPanTiltHead_8h-source.html">PoseEstPanTiltHead.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="bbcvp::PoseEstPanTiltHead::PoseEstPanTiltHead"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bbcvp::PoseEstPanTiltHead::PoseEstPanTiltHead </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxLines</em> = 100, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxCameras</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxObjects</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>xlen</em> = 720, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>ylen</em> = 576, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>aspect</em> = 16.0/9.0 *720.0/702.0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
Allocates internal storage for working space.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>maxLines</em>&nbsp;</td><td>The maximum number of unique lines visible on an object at any one time instant; equivalent to maxPoints but for lines. All the values in the array nLines[im][obj] should be less than or equal to this value. </td></tr>
    <tr><td valign=top><em>maxCameras</em>&nbsp;</td><td>The maximum number of cameras to use simultaneously. This will usually be 1 unless a multi-camera rig is being calibrated, or unless clever tricks are being played such as using several known relative camera poses to calculate the position common to all cameras. </td></tr>
    <tr><td valign=top><em>maxObjects</em>&nbsp;</td><td>The maximum number of independently-moving objects to use in the calibration process. This will usually be 1.</td></tr>
    <tr><td valign=top><em>xlen,ylen</em>&nbsp;</td><td>Full size of image being grabbed. Note that ylen is the number of frame lines, although all methods that receive or return image coordinates work in terms of either field lines or frame lines depending how the corresponding camera image is created using newImage().</td></tr>
    <tr><td valign=top><em>aspect</em>&nbsp;</td><td>Aspect ratio of the image represented by xlen * ylen pixels. For example, for a Rec. 601 16:9 image with 702 active pixels but a full length of 720 pixels, the aspect ratio will be 16/9 * 720/702, which is the default. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="bbcvp::PoseEstPanTiltHead::addLine"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::addLine </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>x0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>y0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>z0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>x1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>y1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>z1</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a 3D line to the world model. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>x0,y0,z0</em>&nbsp;</td><td>3D coordinate of start of line</td></tr>
    <tr><td valign=top><em>x0,y0,z0</em>&nbsp;</td><td>3D coordinate of end of line</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if line added successfully, false if storage size exceeded (more than maxLines added). </dd></dl>
    </td>
  </tr>
</table>
<a name="a4" doxytag="bbcvp::PoseEstPanTiltHead::addLineObservation"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::addLineObservation </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>lineIndex</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>x0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>y0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>x1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>y1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>weight</em> = 1.0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add an observation of a line to the given camera view. 
<p>
Note that the vertical image coordinate must be specified in units of either frame or field lines, to match the setting given to <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a8">addNewImage()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>lineIndex</em>&nbsp;</td><td>the index of the observed line (0..<a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a5">getNLines()</a>-1) </td></tr>
    <tr><td valign=top><em>x0,y0</em>&nbsp;</td><td>2D coordinate of start of line</td></tr>
    <tr><td valign=top><em>x1,y1</em>&nbsp;</td><td>2D coordinate of end of line</td></tr>
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>Number of the camera to add observation into, range is 0..maxCameras-1, or -1 to mean the latest camera entered, or the 0th camera if none entered yet.</td></tr>
    <tr><td valign=top><em>weight</em>&nbsp;</td><td>Weighting to apply to this observation</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if line observation added successfully, false if cam or lineIndex out of range. </dd></dl>
    </td>
  </tr>
</table>
<a name="a8" doxytag="bbcvp::PoseEstPanTiltHead::addNewImage"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::addNewImage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fieldType</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new instance of a camera with the given field polarity. 
<p>
This sets the vertical position of the principal point depending on whether the field is a "top" field or "bottom" field. A progressive image can also be created, with the principal point in the centre of the image and half the line spacing of an interlaced image. The initial values for camera angles and field-of-view are taken from the current values of the most recently-created camera; note this could be a camera that has just been cleared, and may thus mean that the values are effectively copied from itself. If no cameras have been created yet, or <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a6">clearAllImages()</a> has been called, the initial values are taken from camera 0. All lines are set to 'not visible'.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fieldType</em>&nbsp;</td><td>0 for top field, 1 for bottom field or -1 for progressive image.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if camera created OK, false if too many cameras </dd></dl>
    </td>
  </tr>
</table>
<a name="a9" doxytag="bbcvp::PoseEstPanTiltHead::adjustCamPos"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::adjustCamPos </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>adjust</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Specify whether the relative position of the camera and the object are to be adjusted by calcSolution(). 
<p>
Settting this to false constrains the position to remain as previously set. Note that if rollPitchNotCamera is true, the pitch x and z angles are also computed when the camera position is computed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>adjust</em>&nbsp;</td><td>Set true to allow adjustment, or false to fix. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a11" doxytag="bbcvp::PoseEstPanTiltHead::calcFullSolution"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double bbcvp::PoseEstPanTiltHead::calcFullSolution </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compute a new estimate for the camera and/or object data, using the points and/or lines data from all camera views. 
<p>
The estimated values for adjustable parameters replace those currently stored. The current camera parameters must already contain a reasonable estimate of the solution.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The RMS error for the new solution, or a negative value if no solution could be found. -1 means that the computation did not converge in the given number of iterations, probably due to a poor initial estiamte, or inconsistent image/world line data. -2 means that no solution could be found to the simultaneous equations formed during an iteration; this may indicate that there were too few observed points to solve for all the unknowns. </dd></dl>
    </td>
  </tr>
</table>
<a name="a12" doxytag="bbcvp::PoseEstPanTiltHead::calcLastSolution"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> double bbcvp::PoseEstPanTiltHead::calcLastSolution </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compute a new estimate for the camera and/or object data, for the most recently-added camera only. 
<p>
Estimated values for adjustable parameters replace those currently stored. The current camera parameters must already contain a reasonable estimate of the solution.<p>
<dl compact><dt><b>Returns:</b></dt><dd>The RMS error for the new solution, or a negative value if no solution could be found. -1 means that the computation did not converge in the given number of iterations, probably due to a poor initial estiamte, or inconsistent image/world line data. -2 means that no solution could be found to the simultaneous equations formed during an iteration; this may indicate that there were too few observed points to solve for all the unknowns. </dd></dl>
    </td>
  </tr>
</table>
<a name="a6" doxytag="bbcvp::PoseEstPanTiltHead::clearAllImages"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::clearAllImages </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear all image data previously added. 
<p>
Internally, this sets the number of cameras to zero, since a separate camera is used to represent each image.     </td>
  </tr>
</table>
<a name="a7" doxytag="bbcvp::PoseEstPanTiltHead::clearLastImage"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::clearLastImage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear the image data most recently added. 
<p>
Internally, this decreases the number of cameras by 1, since a separate camera is used to represent each image.     </td>
  </tr>
</table>
<a name="a19" doxytag="bbcvp::PoseEstPanTiltHead::getCamFOV"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::getCamFOV </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double *&nbsp;</td>
          <td class="mdname" nowrap> <em>fovy</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the vertical field-of-view of the given camera instance. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fovy</em>&nbsp;</td><td>Return the vertical field-of-view in degrees to this location.</td></tr>
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>Number of the camera to get, range is 0..maxCameras-1, or -1 to mean the latest camera entered, or the 0th camera if none entered yet.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful, false if cam refers to a camera out-of-range. </dd></dl>
    </td>
  </tr>
</table>
<a name="a14" doxytag="bbcvp::PoseEstPanTiltHead::getCamPos"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::getCamPos </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double *&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>z</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the position of the camera with respect to the objects. 
<p>
Note that this actually gets the 0th object position and multiplies it by -1, as the camera position is kept fixed at (0,0,0): this is to allow the camera-object movement to be the same for all cameras (ie. all observed camera images). Where multiple obects are used to represent different features in the world whose relative positions are fixed but unknown, the 0th object is assumed to be always fixed and thus define the reference frame.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>x,y,z</em>&nbsp;</td><td>The locations to which to write the position of the camera relative to the world object. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a18" doxytag="bbcvp::PoseEstPanTiltHead::getCamRotPTR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::getCamRotPTR </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double *&nbsp;</td>
          <td class="mdname" nowrap> <em>pan</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>tilt</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>roll</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the pan, tilt and roll values of the given camera with respect to the objects. 
<p>
This should be used to set an initial guess for the parameters of the given camera (i.e. the parameters of the camera in the given frame).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pan</em>&nbsp;</td><td>Pan angle of camera in degrees, anticlockwise (when viewed from above) is positive.</td></tr>
    <tr><td valign=top><em>tilt</em>&nbsp;</td><td>Tilt angle of camera in degrees, tilting up is positive.</td></tr>
    <tr><td valign=top><em>roll</em>&nbsp;</td><td>Roll angle of camera in degrees, anticlockwise (when viewed from behind) is positive.</td></tr>
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>Number of the camera to get, range is 0..maxCameras-1, or -1 to mean the latest camera entered, or the 0th camera if none entered yet.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful, false if cam refers to a camera out-of-range. </dd></dl>
    </td>
  </tr>
</table>
<a name="a5" doxytag="bbcvp::PoseEstPanTiltHead::getNLines"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int bbcvp::PoseEstPanTiltHead::getNLines </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the number of 3D lines added. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Number of lines added so far </dd></dl>
    </td>
  </tr>
</table>
<a name="a15" doxytag="bbcvp::PoseEstPanTiltHead::getPitchRot"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::getPitchRot </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double *&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>z</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the rotation of the pitch with respect to the global reference frame. 
<p>
By default, these angles will all be zero, but if <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a10">rollPitchNotCamera()</a> has been used to enable pitch roll, then the pitch x and z angles may be non-zero after computing a solution. The y angle will always be zero, though, and is included here for completeness and future expansion. The angles are returned as Euler angles, in degrees.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>x,y,z</em>&nbsp;</td><td>The locations to which to write the pitch angles, in degrees. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a21" doxytag="bbcvp::PoseEstPanTiltHead::projectIntoImage"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::projectIntoImage </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>lineIndex</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>x0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>y0</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>x1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>y1</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>lineWid</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double *&nbsp;</td>
          <td class="mdname" nowrap> <em>projectedWidth</em> = (double *) 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Project the given stored 3D line into the given camera view. 
<p>
Optionally also compute and return the width of the projected line in pixels, for a point on the line closest to the centre of the visible part of the line. Note that the vertical image coordinate is returned in units of either frame or field lines, depending on the setting given to <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a8">addNewImage()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>lineIndex</em>&nbsp;</td><td>The index of the line to project, in the range 0..<a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a5">getNLines()</a>-1.</td></tr>
    <tr><td valign=top><em>x0,y0</em>&nbsp;</td><td>Write the start coordinates of the line in these locations.</td></tr>
    <tr><td valign=top><em>x1,y1</em>&nbsp;</td><td>Write the end coordinates of the line in these locations.</td></tr>
    <tr><td valign=top><em>lineWid</em>&nbsp;</td><td>The width of the line in the real world, in metres, defined as the thickness of the line in a plane parallel to the y=0 plane, at right-angles to the direction of the line. For example, for a football pitch with the plane of the pitch parallel to the y=0 plane, the width corresponds to the width across the line or the diameter of a vertical goal post.</td></tr>
    <tr><td valign=top><em>projectedWidth</em>&nbsp;</td><td>Write the width of the line in pixles at the centre of its visible portion to this location. Set pointer to zero if you don't want the width returned.</td></tr>
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>Number of the camera to project into, range is 0..maxCameras-1, or -1 to mean the latest camera entered, or the 0th camera if none entered yet.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the line exists and is at least part-visible in the image, else returns false. </dd></dl>
    </td>
  </tr>
</table>
<a name="a10" doxytag="bbcvp::PoseEstPanTiltHead::rollPitchNotCamera"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::rollPitchNotCamera </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>rollPitch</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Specify whether pitch is allowed to rotate about x and z axes instead of cameras being allowed non-zero roll. 
<p>
By default, the pitch is constrained to lie in the y=0 plane, and any lack of parallel-ness between the camera's horizontal vector and the pitch is accounted for by allowing a different amount of camera roll in each image. However, by calling this method with a 'true' argument, all cameras are constrained to have zero roll, but the pitch is allowed to rotate about the x and z axes (but not rotate about the vertical) as a part of the camera position computation. This may be a better option for most situations, where the camera is rigidly-mounted on a fixed pan/tilt head, with its horizontal vector at right angles to the pan axis.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>rollPitch</em>&nbsp;</td><td>Set true if pitch may be rotated to be non-level in exchange for camera roll. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a20" doxytag="bbcvp::PoseEstPanTiltHead::setCamFOV"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::setCamFOV </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>fovy</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the vertical field-of-view of the given camera instance. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>fovy</em>&nbsp;</td><td>The vertical field-of-view in degrees.</td></tr>
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>Number of the camera to set, range is 0..maxCameras-1, or -1 to mean the latest camera entered, or the 0th camera if none entered yet.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful, false if cam refers to a camera out-of-range. </dd></dl>
    </td>
  </tr>
</table>
<a name="a13" doxytag="bbcvp::PoseEstPanTiltHead::setCamPos"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::setCamPos </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>z</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the position of the camera with respect to the objects. 
<p>
Call this to set an initial guess for the camera position.<p>
Note that this actually sets the positions of all the objects to minus the given position, as the camera position is kept fixed at (0,0,0): this is to allow the camera-object movement to be the same for all cameras (ie. all observed camera images).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>x,y,z</em>&nbsp;</td><td>The position of the camera relative to the world object. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a17" doxytag="bbcvp::PoseEstPanTiltHead::setCamRotPTR"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool bbcvp::PoseEstPanTiltHead::setCamRotPTR </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>pan</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>tilt</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>roll</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = -1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the pan, tilt and roll values of the given camera with respect to the objects. 
<p>
This should be used to set an initial guess for the parameters of the given camera (i.e. the parameters of the camera in the given frame).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>pan</em>&nbsp;</td><td>Pan angle of camera in degrees, anticlockwise (when viewed from above) is positive.</td></tr>
    <tr><td valign=top><em>tilt</em>&nbsp;</td><td>Tilt angle of camera in degrees, tilting up is positive.</td></tr>
    <tr><td valign=top><em>roll</em>&nbsp;</td><td>Roll angle of camera in degrees, anticlockwise (when viewed from behind) is positive.</td></tr>
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>Number of the camera to get, range is 0..maxCameras-1, or -1 to mean the latest camera entered, or the 0th camera if none entered yet.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if successful, false if cam refers to a camera out-of-range. </dd></dl>
    </td>
  </tr>
</table>
<a name="a16" doxytag="bbcvp::PoseEstPanTiltHead::setPitchRot"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::setPitchRot </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>x</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>y</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>z</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the rotation of the pitch (i.e. 
<p>
the reference frame of the lines) with respect to the global reference frame.<p>
These angles are initialised to zero, but if the reference frame of the lines is very non-level, then this method can be used to set alternative values. <a class="el" href="classbbcvp_1_1PoseEstPanTiltHead.html#a10">rollPitchNotCamera()</a> may be used to enable the x and z angles to be automatically adjusted. The angles are specified as Euler angles, in degrees.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>x,y,z</em>&nbsp;</td><td>The locations to which to write the pitch angles, in degrees. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a2" doxytag="bbcvp::PoseEstPanTiltHead::setVerbosity"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstPanTiltHead::setVerbosity </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>verbosity</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the verbosity level. 
<p>
A level of 0 means that nothing at all is printed. Higher values print increasingly more information. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>verbosity</em>&nbsp;</td><td>The verbosity level to set, 0..9 </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="PoseEstPanTiltHead_8h-source.html#l00107">107</a> of file <a class="el" href="PoseEstPanTiltHead_8h-source.html">PoseEstPanTiltHead.h</a>.
<p>
References <a class="el" href="PoseEstimator_8h-source.html#l00396">bbcvp::PoseEstimator::setVerbosity()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="PoseEstPanTiltHead_8h-source.html">PoseEstPanTiltHead.h</a></ul>
</td>
</tr>
  </tbody>
</table>
</body>
</html>
