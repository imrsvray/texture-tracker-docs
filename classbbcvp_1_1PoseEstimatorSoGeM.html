<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
  <title>vplibs - header</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<body>
 <table>
  <tbody>
<tr align="left" valign="top" bgcolor="#ccffff">
<td width="100%">
<table>
  <tbody>
    <tr>
      <td> <a href="/project/vp/vplibs/index.html"><h3> BBC R&amp;D VP
Libraries: </h3></a></td> 
      <td> <a href="/project/vp/vplibs/soGeM/doc/index.html">soGeM</a> |
</td>
      <td> <a 
href="/project/vp/vplibs/VPtexturing/doc/index.html">VPtexturing</a> |
</td>

	<td> <a href="/project/vp/vplibs/VPgeom/doc/index.html">VPgeom</a> |
</td>      
	<td> <a href="/project/vp/vplibs/VPio/doc/index.html">VPio</a> | </td>
	<td> <a href="/project/vp/vplibs/VPip/doc/index.html">VPip</a> | </td>
	<td> <a href="/project/vp/vplibs/VPutil/doc/index.html">VPutil</a> | </td>
        <td> VPai | </td>
      <td> DVSlib | </td>
    </tr>
  </tbody>
</table>
</td>
</tr>
<tr align="left" valign="top" bgcolor="#FFFFFF#ccffff">
<td width="100%">

<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1>bbcvp::PoseEstimatorSoGeM Class Reference</h1>Extends the <a class="el" href="classbbcvp_1_1PoseEstimator.html">PoseEstimator</a> class with methods that rely on the soGeM library, such as methods for importing from and exporting to a soGeM camera, and an improved method for initial calculation of rough object position.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="PoseEstimatorSoGeM_8h-source.html">PoseEstimatorSoGeM.h</a>&gt;</code>
<p>
<p>Inheritance diagram for bbcvp::PoseEstimatorSoGeM:
<p><center><img src="classbbcvp_1_1PoseEstimatorSoGeM.png" usemap="#bbcvp::PoseEstimatorSoGeM_map" border="0" alt=""></center>
<map name="bbcvp::PoseEstimatorSoGeM_map">
<area href="classbbcvp_1_1PoseEstimator.html" alt="bbcvp::PoseEstimator" shape="rect" coords="0,0,174,24">
</map>
<a href="classbbcvp_1_1PoseEstimatorSoGeM-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstimatorSoGeM.html#a0">PoseEstimatorSoGeM</a> (int maxPoints=100, int maxImages=1, int maxCameras=1, int maxObjects=1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="a1" doxytag="bbcvp::PoseEstimatorSoGeM::~PoseEstimatorSoGeM"></a>
&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstimatorSoGeM.html#a1">~PoseEstimatorSoGeM</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstimatorSoGeM.html#a2">exportSoGeMCamera</a> (int c, <a class="elRef" doxygen="soGeM.tags:/project/vp/vplibs/soGeM/doc/" href="/project/vp/vplibs/soGeM/doc/classo__Camera.html">o_Camera</a> *soGeMCamera)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write the data for the given camera (stored in the arrays specified by setCameraData) into the given soGeM camera object. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstimatorSoGeM.html#a3">importSoGeMCamera</a> (int c, <a class="elRef" doxygen="soGeM.tags:/project/vp/vplibs/soGeM/doc/" href="/project/vp/vplibs/soGeM/doc/classo__Camera.html">o_Camera</a> *soGeMCamera)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the data for the given camera (into in the arrays specified by setCameraData) from the given soGeM camera object. </em> <a href="#a3"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1PoseEstimatorSoGeM.html#a4">roughEstimateObjectFromArbitraryCamera</a> (int cam=0, int image=0, int obj=0, double typicalObjectDistance=3.0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Roughly estimate the initial position and rotation of the given object, using data from the given camera image. </em> <a href="#a4"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Extends the <a class="el" href="classbbcvp_1_1PoseEstimator.html">PoseEstimator</a> class with methods that rely on the soGeM library, such as methods for importing from and exporting to a soGeM camera, and an improved method for initial calculation of rough object position. 
<p>
<dl compact><dt><b>Author:</b></dt><dd>Graham Thomas, BBC R&amp;D </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>

<p>

<p>
Definition at line <a class="el" href="PoseEstimatorSoGeM_8h-source.html#l00033">33</a> of file <a class="el" href="PoseEstimatorSoGeM_8h-source.html">PoseEstimatorSoGeM.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="bbcvp::PoseEstimatorSoGeM::PoseEstimatorSoGeM"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bbcvp::PoseEstimatorSoGeM::PoseEstimatorSoGeM </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxPoints</em> = 100, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxImages</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxCameras</em> = 1, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>maxObjects</em> = 1</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
Allocates internal storage for working space.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>maxPoints</em>&nbsp;</td><td>The maximum number of unique points visible on an object at any one time instant. If 50 points were visible to one camera, and a DIFFERENT 50 were visible to another camera, this counts as a total of 100. </td></tr>
    <tr><td valign=top><em>maxImages</em>&nbsp;</td><td>The maximum number of images to be used simultaneously. This will be 1 in most simple applications, but for applications such as performing a full calibration of the internal and external parameters of a camera, multiple images can be used to get more accurate results. </td></tr>
    <tr><td valign=top><em>maxCameras</em>&nbsp;</td><td>The maximum number of cameras to use simultaneously. This will usually be 1 unless a multi-camera rig is being calibrated, or unless clever tricks are being played such as using several known relative camera poses to calculate the position common to all cameras. </td></tr>
    <tr><td valign=top><em>maxObjects</em>&nbsp;</td><td>The maximum number of independently-moving objects to use in the calibration process. This will usually be 1. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="bbcvp::PoseEstimatorSoGeM::exportSoGeMCamera"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstimatorSoGeM::exportSoGeMCamera </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="soGeM.tags:/project/vp/vplibs/soGeM/doc/" href="/project/vp/vplibs/soGeM/doc/classo__Camera.html">o_Camera</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>soGeMCamera</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write the data for the given camera (stored in the arrays specified by setCameraData) into the given soGeM camera object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The number of the camera to export (0..nCameras-1) </td></tr>
    <tr><td valign=top><em>soGeMCamera</em>&nbsp;</td><td>The camera object to write to </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a3" doxytag="bbcvp::PoseEstimatorSoGeM::importSoGeMCamera"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstimatorSoGeM::importSoGeMCamera </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>c</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="soGeM.tags:/project/vp/vplibs/soGeM/doc/" href="/project/vp/vplibs/soGeM/doc/classo__Camera.html">o_Camera</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>soGeMCamera</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the data for the given camera (into in the arrays specified by setCameraData) from the given soGeM camera object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>c</em>&nbsp;</td><td>The number of the camera to set (0..nCameras-1) </td></tr>
    <tr><td valign=top><em>soGeMCamera</em>&nbsp;</td><td>The camera object to read from </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a4" doxytag="bbcvp::PoseEstimatorSoGeM::roughEstimateObjectFromArbitraryCamera"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void bbcvp::PoseEstimatorSoGeM::roughEstimateObjectFromArbitraryCamera </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>cam</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>image</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>obj</em> = 0, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>typicalObjectDistance</em> = 3.0</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Roughly estimate the initial position and rotation of the given object, using data from the given camera image. 
<p>
This version attempts to estimate the rotation angle about the camera's direction of view, (whatever it may be), then converts this back to angles in the object's ref frame. Note that, although this means that all three object angles are changed, only one of the three degrees of rotational freedom of the object is actually estimated. The values of positionObj[image][obj][X|Y|Z] are set so as to place the object in front of the camera (if it isn't already), and it is then moved parallel to the camera sensor so that it roughly lines up with the given image. This method can be called repeatedly for a given object with a succession of cameras, as processing each camera will update the object position and orientation to match this camera. It therefore does a better job than <a class="el" href="classbbcvp_1_1PoseEstimator.html#a13">roughEstimateObject()</a> when views from more than one camera are available. Any position values that are marked as not-to-be-adjusted will be left unchanged.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>cam</em>&nbsp;</td><td>The index of the camera whose image points to use </td></tr>
    <tr><td valign=top><em>image</em>&nbsp;</td><td>The index of the image data set to use to perform the estimation </td></tr>
    <tr><td valign=top><em>obj</em>&nbsp;</td><td>The index of the object whose position should be estimated </td></tr>
    <tr><td valign=top><em>typicalObjectDistance</em>&nbsp;</td><td>Typical distance from camera to object in metres; used to help estimation process if very few points are visible </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="PoseEstimatorSoGeM_8h-source.html">PoseEstimatorSoGeM.h</a></ul>
</td>
</tr>
  </tbody>
</table>
</body>
</html>
