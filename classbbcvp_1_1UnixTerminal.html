<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
  <title>vplibs - header</title>
  <meta name="GENERATOR" content="Quanta Plus">
  <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</head>
<body>
 <table>
  <tbody>
<tr align="left" valign="top" bgcolor="#ccffff">
<td width="100%">
<table>
  <tbody>
    <tr>
      <td> <a href="/project/vp/vplibs/index.html"><h3> BBC R&amp;D VP
Libraries: </h3></a></td> 
      <td> <a href="/project/vp/vplibs/soGeM/doc/index.html">soGeM</a> |
</td>
      <td> <a 
href="/project/vp/vplibs/VPtexturing/doc/index.html">VPtexturing</a> |
</td>

	<td> <a href="/project/vp/vplibs/VPgeom/doc/index.html">VPgeom</a> |
</td>      
	<td> <a href="/project/vp/vplibs/VPio/doc/index.html">VPio</a> | </td>
	<td> <a href="/project/vp/vplibs/VPip/doc/index.html">VPip</a> | </td>
	<td> <a href="/project/vp/vplibs/VPutil/doc/index.html">VPutil</a> | </td>
        <td> VPai | </td>
      <td> DVSlib | </td>
    </tr>
  </tbody>
</table>
</td>
</tr>
<tr align="left" valign="top" bgcolor="#FFFFFF#ccffff">
<td width="100%">

<!-- Generated by Doxygen 1.3.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Compound&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Compound&nbsp;Members</a></div>
<h1>bbcvp::UnixTerminal Class Reference</h1>For reading keyboard input from Li|Unix consoles.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="UnixTerminal_8h-source.html">UnixTerminal.h</a>&gt;</code>
<p>
<a href="classbbcvp_1_1UnixTerminal-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#a0">UnixTerminal</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. </em> <a href="#a0"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#a1">~UnixTerminal</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. </em> <a href="#a1"></a><em><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#a2">readChrOrEscSeq</a> (FILE *fp=stdin)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read character(s) from given FILE (usually stdin), returning the character itself, or, if ESC is received, record the sequence until it can be identified, or until it is longer than the longest ESC sequence expected. </em> <a href="#a2"></a><em><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s0" doxytag="bbcvp::UnixTerminal::ESCSEQ_F1"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s0">ESCSEQ_F1</a> = 301</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F1-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s1" doxytag="bbcvp::UnixTerminal::ESCSEQ_F2"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s1">ESCSEQ_F2</a> = 302</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F2-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s2" doxytag="bbcvp::UnixTerminal::ESCSEQ_F3"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s2">ESCSEQ_F3</a> = 303</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F3-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s3" doxytag="bbcvp::UnixTerminal::ESCSEQ_F4"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s3">ESCSEQ_F4</a> = 304</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F4-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s4" doxytag="bbcvp::UnixTerminal::ESCSEQ_F5"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s4">ESCSEQ_F5</a> = 305</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F5-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s5" doxytag="bbcvp::UnixTerminal::ESCSEQ_F6"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s5">ESCSEQ_F6</a> = 306</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F6-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s6" doxytag="bbcvp::UnixTerminal::ESCSEQ_F7"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s6">ESCSEQ_F7</a> = 307</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F7-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s7" doxytag="bbcvp::UnixTerminal::ESCSEQ_F8"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s7">ESCSEQ_F8</a> = 308</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F8-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s8" doxytag="bbcvp::UnixTerminal::ESCSEQ_F9"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s8">ESCSEQ_F9</a> = 309</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F9-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s9" doxytag="bbcvp::UnixTerminal::ESCSEQ_F10"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s9">ESCSEQ_F10</a> = 310</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F10-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s10" doxytag="bbcvp::UnixTerminal::ESCSEQ_F11"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s10">ESCSEQ_F11</a> = 311</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F11-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s11" doxytag="bbcvp::UnixTerminal::ESCSEQ_F12"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s11">ESCSEQ_F12</a> = 312</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing F12-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s12" doxytag="bbcvp::UnixTerminal::ESCSEQ_UPARROW"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s12">ESCSEQ_UPARROW</a> = 313</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing UPARROW-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s13" doxytag="bbcvp::UnixTerminal::ESCSEQ_DOWNARROW"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s13">ESCSEQ_DOWNARROW</a> = 314</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing DOWNARROW-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s14" doxytag="bbcvp::UnixTerminal::ESCSEQ_RIGHTARROW"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s14">ESCSEQ_RIGHTARROW</a> = 315</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing RIGHTARROW-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s15" doxytag="bbcvp::UnixTerminal::ESCSEQ_LEFTARROW"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s15">ESCSEQ_LEFTARROW</a> = 316</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing LEFTARROW-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s16" doxytag="bbcvp::UnixTerminal::ESCSEQ_INSERT"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s16">ESCSEQ_INSERT</a> = 317</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing INSERT-key. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a name="s17" doxytag="bbcvp::UnixTerminal::ESCSEQ_DELETE"></a>
const int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classbbcvp_1_1UnixTerminal.html#s17">ESCSEQ_DELETE</a> = 318</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape sequence representing DELETE-key. <br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
For reading keyboard input from Li|Unix consoles. 
<p>
This is a class'ified' version of the unix_terminal 'C' code. Uses Graham Thomas's C code, converted to a C++ class by Tim Sargeant. It is helpful when getting keyboard input from consoles. The constructor calls a private method (setupTermKB) to configure the console. Detect any key presses using the <a class="el" href="classbbcvp_1_1UnixTerminal.html#a2">readChrOrEscSeq()</a> method and do any required processing. The destructor calls a private method (restoreTermKB) to restore the console to it's initial state. <b>Make sure to destroy this object properly, otherwise your terminal may behave unpredictably!</b> A simple example is shown below: <div class="fragment"><pre>        <a class="code" href="classbbcvp_1_1UnixTerminal.html">bbcvp::UnixTerminal</a> term;

        <span class="comment">// check for keyboard input</span>
        <span class="keywordtype">int</span> key;
        <span class="keywordtype">int</span> key_was_pressed = <span class="keyword">false</span>;

        <span class="keywordflow">while</span> ( ( key = term.<a class="code" href="classbbcvp_1_1UnixTerminal.html#a2">readChrOrEscSeq</a>( stdin )) != -1)
        {
          key_was_pressed = <span class="keyword">true</span>;
          <span class="keywordflow">switch</span> ( key )
            {
            <span class="keywordflow">case</span> <span class="charliteral">'q'</span>: { <span class="keywordflow">do</span> something; } <span class="keywordflow">break</span>;
            <span class="keywordflow">case</span> term.<a class="code" href="classbbcvp_1_1UnixTerminal.html#s0">ESCSEQ_F1</a>: { <span class="keywordflow">do</span> another thing; } <span class="keywordflow">break</span>;
          }  <span class="comment">// end of switch</span>
        }  <span class="comment">// end of while loop reading keypresses</span>
</pre></div><dl compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl compact><dt><b>Author:</b></dt><dd>Graham Thomas (conversion to C++ class by Tim Sargeant) </dd></dl>

<p>

<p>
Definition at line <a class="el" href="UnixTerminal_8h-source.html#l00060">60</a> of file <a class="el" href="UnixTerminal_8h-source.html">UnixTerminal.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="bbcvp::UnixTerminal::UnixTerminal"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bbcvp::UnixTerminal::UnixTerminal </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Constructor. 
<p>
Sets up terminal    </td>
  </tr>
</table>
<a name="a1" doxytag="bbcvp::UnixTerminal::~UnixTerminal"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bbcvp::UnixTerminal::~<a class="el" href="classbbcvp_1_1UnixTerminal.html">UnixTerminal</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destructor. 
<p>
Restores terminal to previous settings    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a2" doxytag="bbcvp::UnixTerminal::readChrOrEscSeq"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int bbcvp::UnixTerminal::readChrOrEscSeq </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fp</em> = stdin          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read character(s) from given FILE (usually stdin), returning the character itself, or, if ESC is received, record the sequence until it can be identified, or until it is longer than the longest ESC sequence expected. 
<p>
Always tries to read as many characters as there are available when processing an ESC sequence, but returns to calling programme with a -1 if only a partial ESC sequence is seen (the part sequence is stored to be built upon later).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>*fp</em>&nbsp;</td><td>FILE from which to read (most often stdin, which is also the default) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>key or escape sequence or -1 if no character waiting to be read</dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="UnixTerminal_8h-source.html">UnixTerminal.h</a></ul>
</td>
</tr>
  </tbody>
</table>
</body>
</html>
